amcv:
	Inherits: ^ConstructionVehicle
	Buildable:
		Queue: Vehicle.Allies
		Prerequisites: repairpad, ~techlevel.2
	Selectable:
		Bounds: 68, 56, 0, -7
	Transforms:
		IntoActor: gacnst
	Voiced:
		VoiceSet: AlliedConstructionVehicleVoice

cmin:
	Inherits: ^Vehicle
	Buildable:
		Queue: Vehicle.Allies
		BuildPaletteOrder: 10
		Prerequisites: refinery, ~techlevel.1
		Description: Gathers Ore.\n  Unarmed.\n  Immune to Radiation.\nSpecial ability: Can teleport to own refineries
	Valued:
		Cost: 1000
	Tooltip:
		Name: Chrono Miner
	Selectable:
		Priority: 7
		Bounds: 64, 52, 0, -6
	Harvester:
		Capacity: 20
		Resources: Ore, Gems
		BaleUnloadDelay: 2
		SearchFromProcRadius: 24
		SearchFromOrderRadius: 12
		HarvestVoice: Harvest
		DeliverVoice: Deliver
	ChronoResourceDelivery:
		WarpInSequence: warpout
		WarpInSound: vchrtele.wav
		WarpOutSound: vchrtele.wav
		SoundVolume: 0.5
		RequiresCondition: !chronodisable && !emp
	Health:
		HP: 600
	Armor:
		Type: Medium
	SelfHealing:
		PercentageStep: 1
		Step: 0
		Delay: 100
		DamageCooldown: 100
		HealIfBelow: 100
	Mobile:
		Speed: 60
		TurnSpeed: 8
		Locomotor: heavytracked
	Guard:
		Voice: Move
	RevealsShroud:
		Range: 4c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 4c0
	RevealOnDeath:
		Radius: 2c0
	Targetable:
		TargetTypes: Ground, Vehicle, DetonateAttack, DroneInfection, ImmuneToRadiation
	WithHarvestOverlay:
		LocalOffset: 121,0,0
		Palette: effect
	RenderSprites: # TODO: WithHarvestOverlay relies on this, but it should actually be removed
	RenderVoxels:
	WithVoxelUnloadBody:
	Voiced:
		VoiceSet: ChronoMinerVoice
	HitShape:

mtnk:
	Inherits: ^MainBattleTank
	Valued:
		Cost: 850
	Tooltip:
		Name: Grizzly Battle Tank
	Buildable:
		Queue: Vehicle.Allies
		Description: Allied Main Battle Tank.\n  Strong vs Vehicles, Ships\n  Weak vs Infantry, Aircraft
	Mobile:
		Speed: 105
	Health:
		HP: 300
	Armament@primary:
		Weapon: 105mm
		Recoil: 87
		RecoilRecovery: 12
		LocalOffset: 640,0,512
		RequiresCondition: !rank-elite
	Armament@elite:
		Weapon: 105mmE
		Recoil: 87
		RecoilRecovery: 12
		LocalOffset: 640,0,512
		RequiresCondition: rank-elite
	Selectable:
		Bounds: 64, 52, 0, -6
	Voiced:
		VoiceSet: AlliedVehicleVoice

tnkd:
	Inherits: ^Vehicle
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@MC: ^MindControllableDisabledWithIC
	Inherits@RADIATON: ^DamagedByRadiation10Percent
	Valued:
		Cost: 1000
	Tooltip:
		Name: Tank Destroyer
	Buildable:
		Queue: Vehicle.Allies
		BuildPaletteOrder: 70
		Prerequisites: ~vehicles.germany, gaairc, ~techlevel.3
		Description: Special anti-armor unit.\n  Strong vs Vehicles, Ships\n  Weak vs Infantry, Aircraft
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Mobile:
		Speed: 75
		TurnSpeed: 5
		Locomotor: heavytracked
	Health:
		HP: 400
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 8c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 8c0
	RevealOnDeath:
		Radius: 4c0
	Armament@primary:
		Weapon: sabot
		LocalOffset: 704,0,768
		RequiresCondition: !rank-elite
	Armament@elite:
		Weapon: sabotE
		LocalOffset: 704,0,768
		RequiresCondition: rank-elite
	AttackFrontal:
		Voice: Attack
		PauseOnCondition: chronodisable || emp
		FacingTolerance: 2
	AutoTarget:
	RenderSprites:
	Selectable:
		Bounds: 64, 52, 0, -6
	RenderVoxels:
		NormalsPalette: ts-normals
	WithVoxelBody:
	Voiced:
		VoiceSet: TankDestroyerVoice
	ProducibleWithLevel:
		Prerequisites: warfactory.infiltrated
	HitShape:

fv:
	Inherits: ^Vehicle
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@MC: ^MindControllableDisabledWithIC
	Inherits@RADIATON: ^DamagedByRadiation50Percent
	Valued:
		Cost: 700
	Tooltip:
		Name: Infantry Fighting Vehicle
		RequiresCondition: !ifv-mg && !ifv-init && !ifv-gren && !ifv-repair && !ifv-medic && !ifv-dog && !ifv-rocket && !ifv-sniper && !ifv-pyro && !ifv-flak && !ifv-tesla && !ifv-deso && !ifv-demo && !ifv-seal && !ifv-tanya && !ifv-boris && !ifv-chrono && !ifv-yuri
	Tooltip@mg:
		Name: Machine Gun IFV
		RequiresCondition: ifv-mg
	Tooltip@init:
		Name: Ignitor IFV
		RequiresCondition: ifv-init
	Tooltip@rocket:
		Name: Rocket IFV
		RequiresCondition: ifv-rocket
	Tooltip@gren:
		Name: Grenade IFV
		RequiresCondition: ifv-gren
	Tooltip@engineer:
		Name: Repair IFV
		RequiresCondition: ifv-repair
	Tooltip@medic:
		Name: Ambulance IFV
		RequiresCondition: ifv-medic
	Tooltip@dog:
		Name: Detector IFV
		RequiresCondition: ifv-dog
	Tooltip@sniper:
		Name: Sniper IFV
		RequiresCondition: ifv-sniper
	Tooltip@pyro:
		Name: Flamethrower IFV
		RequiresCondition: ifv-pyro
	Tooltip@flak:
		Name: Flak IFV
		RequiresCondition: ifv-flak
	Tooltip@tesla:
		Name: Tesla IFV
		RequiresCondition: ifv-tesla
	Tooltip@desolator:
		Name: Desolator IFV
		RequiresCondition: ifv-deso
	Tooltip@demo:
		Name: Demolition IFV
		RequiresCondition: ifv-demo
	Tooltip@seal:
		Name: Sub-Machine Gun IFV
		RequiresCondition: ifv-seal
	Tooltip@tanya:
		Name: Tanya IFV
		RequiresCondition: ifv-tanya
	Tooltip@boris:
		Name: Boris IFV
		RequiresCondition: ifv-boris
	Tooltip@chrono:
		Name: Chrono IFV
		RequiresCondition: ifv-chrono
	Tooltip@yuri:
		Name: Psi IFV
		RequiresCondition: ifv-yuri
	Buildable:
		Queue: Vehicle.Allies
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 30
		Description: Multi-Purpose Vehicle.\nWithout passenger:\n  Strong vs Infantry, Aircraft\n  Weak vs Vehicles, Ships\nSpecial Ability: Armament depends on passenger.
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Mobile:
		Speed: 150
		TurnSpeed: 5
		RequiresCondition: !notmobile && !chronodisable && !emp && !beingterrordroned
	Health:
		HP: 200
	Armor:
		Type: Light
	RevealsShroud:
		Range: 8c0
		RequiresCondition: !ifv-dog
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 8c0
		RequiresCondition: !ifv-dog
	RevealsShroud@DOG:
		Range: 10c0
		RequiresCondition: ifv-dog
	RevealsShroudToIntelligenceOwner@DOG:
		Types: SatelliteScan
		Range: 10c0
		RequiresCondition: ifv-dog
	RevealOnDeath:
		Radius: 4c0
		RequiresCondition: !ifv-dog
	RevealOnDeath@DOG:
		Radius: 5c0
		Duration: 50
		RequiresCondition: ifv-dog
	DetectCloaked:
		Range: 5c0
		RequiresCondition: ifv-dog
	RenderDetectionCircle:
	PeriodicExplosion:
		Weapon: AmbulanceHeal
		RequiresCondition: ifv-medic && !chronodisable
	WithRangeCircle@medi:
		Range: 5c0
		RequiresCondition: ifv-medic
	Turreted:
		TurnSpeed: 5
	AmmoPool:
		Ammo: 2
		PipCount: 0
		AmmoCondition: ammo
	ReloadAmmoPool:
		Delay: 50
		Count: 2
	Cargo:
		Types: Infantry, Garrisoner
		MaxWeight: 1
		PipCount: 1
		UnloadVoice: Move
		EjectOnDeath: true
		LoadingCondition: notmobile
		PassengerConditions:
			e1: ifv-mg
			e2: ifv-mg
			init: ifv-init
			gren: ifv-gren
			engineer: ifv-repair
			medi: ifv-medic
			dog: ifv-dog
			ggi: ifv-rocket
			flakt: ifv-flak
			shk: ifv-tesla
			ivan: ifv-demo
			civan: ifv-demo
			pyro: ifv-pyro
			terror: ifv-demo
			deso: ifv-deso
			tany: ifv-tanya
			ghost: ifv-seal
			boris: ifv-boris
			ccomand: ifv-seal
			snipe: ifv-sniper
			mech: ifv-repair
			spy: ifv-dog
			cleg: ifv-chrono
			yuri: ifv-yuri
			ptroop: ifv-yuri
			yuripr: ifv-yuri
			yurix: ifv-yuri
	Armament@primary:
		Weapon: HoverMissile
		LocalOffset: 128,-128,1024, 128,128,1024
		PauseOnCondition: !ammo
		RequiresCondition: !rank-elite && !ifv-mg && !ifv-init && !ifv-gren && !ifv-repair && !ifv-medic && !ifv-dog && !ifv-rocket && !ifv-sniper && !ifv-pyro && !ifv-flak && !ifv-tesla && !ifv-deso && !ifv-demo && !ifv-seal && !ifv-tanya && !ifv-boris && !ifv-chrono && !ifv-yuri
	Armament@elite:
		Weapon: HoverMissileE
		LocalOffset: 128,-128,1024, 128,128,1024
		PauseOnCondition: !ammo
		RequiresCondition: rank-elite && !ifv-mg && !ifv-init && !ifv-gren && !ifv-repair && !ifv-medic && !ifv-dog && !ifv-rocket && !ifv-sniper && !ifv-pyro && !ifv-flak && !ifv-tesla && !ifv-deso && !ifv-demo && !ifv-seal && !ifv-tanya && !ifv-boris && !ifv-chrono && !ifv-yuri
	Armament@primary-aa:
		Weapon: HoverMissileAA
		LocalOffset: 128,-128,1024, 128,128,1024
		PauseOnCondition: !ammo
		RequiresCondition: !rank-elite && !ifv-mg && !ifv-init && !ifv-gren && !ifv-repair && !ifv-medic && !ifv-dog && !ifv-rocket && !ifv-sniper && !ifv-pyro && !ifv-flak && !ifv-tesla && !ifv-deso && !ifv-demo && !ifv-seal && !ifv-tanya && !ifv-boris && !ifv-chrono && !ifv-yuri
	Armament@elite-aa:
		Weapon: HoverMissileAAE
		LocalOffset: 128,-128,1024, 128,128,1024
		PauseOnCondition: !ammo
		RequiresCondition: rank-elite && !ifv-mg && !ifv-init && !ifv-gren && !ifv-repair && !ifv-medic && !ifv-dog && !ifv-rocket && !ifv-sniper && !ifv-pyro && !ifv-flak && !ifv-tesla && !ifv-deso && !ifv-demo && !ifv-seal && !ifv-tanya && !ifv-boris && !ifv-chrono && !ifv-yuri
	Armament@mg:
		Weapon: CRM60
		LocalOffset: 188,32,600
		RequiresCondition: ifv-mg
		MuzzleSequence: mgun_muz
		MuzzleSplitFacings: 8
	Armament@init:
		Weapon: CRPsychicJab
		LocalOffset: 128,0,1024
		RequiresCondition: ifv-init
	Armament@gren:
		Weapon: CRGrenade
		LocalOffset: 200,0,800
		RequiresCondition: ifv-gren
	Armament@rocket:
		Weapon: CRMissileLauncher
		LocalOffset: 128,-128,1408, 128,128,1408
		RequiresCondition: ifv-rocket
	Armament@rocket-aa:
		Weapon: CRMissileLauncherAA
		LocalOffset: 128,-128,1408, 128,128,1408
		RequiresCondition: ifv-rocket
	Armament@repair:
		Weapon: RepairBullet
		LocalOffset: 164,0,864
		RequiresCondition: ifv-repair
		Cursor: goldwrench
		OutsideRangeCursor: goldwrench
		TargetStances: Ally
		ForceTargetStances: None
	Armament@sniper:
		Weapon: AWPE
		LocalOffset: 188,0,600
		RequiresCondition: ifv-sniper
	Armament@seal:
		Weapon: CRMP5
		LocalOffset: 200,0,800
		RequiresCondition: ifv-seal
	Armament@tanya:
		Weapon: CRDoublePistols
		LocalOffset: 200,0,800
		RequiresCondition: ifv-tanya
	Armament@boris:
		Weapon: CRAKM
		LocalOffset: 200,0,800
		RequiresCondition: ifv-boris
	Armament@tesla:
		Weapon: CRElectricBolt
		LocalOffset: 280,196,1024, 280,-196,1024
		RequiresCondition: ifv-tesla
	Armament@desolator:
		Weapon: CRRadBeamWeapon
		LocalOffset: 256,-256,1280
		RequiresCondition: ifv-deso
	Armament@pyro:
		Weapon: CRFlamer
		LocalOffset: 649,0,1152
		RequiresCondition: ifv-pyro
	Armament@flak:
		Weapon: CRFlakGuyGun
		LocalOffset: 256,0,1536
		RequiresCondition: ifv-flak
	Armament@flakAA:
		Weapon: CRFlakGuyGunAA
		LocalOffset: 256,0,1536
		RequiresCondition: ifv-flak
	Armament@chrono:
		Weapon: CRNeutronRifle
		LocalOffset: 128,0,1024
		RequiresCondition: ifv-chrono
	Armament@chrono-sound:
		Weapon: CRNeutronRifleSound
		LocalOffset: 128,0,1024
		RequiresCondition: ifv-chrono
	Armament@yuri:
		Weapon: CRPsiWave
		LocalOffset: 0,0,1024
		RequiresCondition: ifv-yuri
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: chronodisable || emp || parachute
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything && !assault-move && !ifv-mg && !ifv-init && !ifv-gren && !ifv-repair && !ifv-medic && !ifv-dog && !ifv-sniper && !ifv-tesla && !ifv-deso && !ifv-seal && !ifv-tanya && !ifv-boris && !ifv-demo && !ifv-chrono && !ifv-yuri
	AutoTargetPriority@ATTACKANYTHING:
		RequiresCondition: (stance-attackanything || assault-move) && !ifv-mg && !ifv-init && !ifv-gren && !ifv-repair && !ifv-medic && !ifv-dog && !ifv-sniper && !ifv-tesla && !ifv-deso && !ifv-seal && !ifv-tanya && !ifv-boris && !ifv-demo && !ifv-chrono && !ifv-yuri
	AutoTargetPriority@DEFAULT_GROUND:
		RequiresCondition: (!stance-attackanything && !assault-move) && (ifv-mg || ifv-init || ifv-gren || ifv-pyro || ifv-tesla || ifv-chrono)
		ValidTargets: Infantry, Vehicle, Ship, Water, Underwater, Defense
		InvalidTargets: NoAutoTarget, WaterStructure
	AutoTargetPriority@ATTACKANYTHING_GROUND:
		RequiresCondition: (stance-attackanything || assault-move) && (ifv-mg || ifv-init || ifv-gren || ifv-pyro || ifv-tesla || ifv-chrono)
		ValidTargets: Infantry, Vehicle, Ship, Water, Underwater, Structure, Defense
		InvalidTargets: NoAutoTarget
	AutoTargetPriority@INFONLY:
		RequiresCondition: ifv-sniper || ifv-seal || ifv-tanya || ifv-yuri
		ValidTargets: Infantry
		InvalidTargets: NoAutoTarget
	AutoTargetPriority@REPAIR:
		RequiresCondition: ifv-repair
		ValidTargets: Repair
		InvalidTargets: NoAutoTarget
	AutoTargetPriority@NOBUILDING:
		RequiresCondition: ifv-deso || ifv-boris
		ValidTargets: Infantry, Vehicle, Ship
		InvalidTargets: NoAutoTarget
	Selectable:
		Bounds: 64, 52, 0, -6
	RenderSprites:
	RenderVoxels:
	WithVoxelBody:
	Explodes:
		RequiresCondition: !ifv-demo
	Explodes@demo:
		Weapon: CRNuke
		EmptyWeapon: CRNuke
		RequiresCondition: ifv-demo
	WithVoxelTurret@default:
		Sequence: turret-missile
		RequiresCondition: !ifv-mg && !ifv-init && !ifv-gren && !ifv-repair && !ifv-medic && !ifv-dog && !ifv-rocket && !ifv-sniper && !ifv-flak && !ifv-tesla && !ifv-pyro && !ifv-deso && !ifv-demo && !ifv-seal && !ifv-tanya && !ifv-boris && !ifv-chrono && !ifv-yuri
	WithVoxelTurret@mg:
		Sequence: turret-mg
		RequiresCondition: ifv-mg
	WithVoxelTurret@rocket:
		Sequence: turret-rocket
		RequiresCondition: ifv-rocket
	WithVoxelTurret@engineer:
		Sequence: turret-repair
		RequiresCondition: ifv-repair
	WithVoxelTurret@sniper:
		Sequence: turret-sniper
		RequiresCondition: ifv-sniper
	WithVoxelTurret@hero:
		Sequence: turret-hero
		RequiresCondition: ifv-seal || ifv-tanya || ifv-boris || ifv-gren # TODO Find a better turret for Grenade IFV
	WithVoxelTurret@tesla:
		Sequence: turret-tesla
		RequiresCondition: ifv-tesla
	WithVoxelTurret@desolator:
		Sequence: turret-deso
		RequiresCondition: ifv-deso
	WithVoxelTurret@pyro:
		Sequence: turret-pyro
		RequiresCondition: ifv-pyro
	WithVoxelTurret@flak:
		Sequence: turret-flak
		RequiresCondition: ifv-flak
	WithVoxelTurret@demo:
		Sequence: turret-demo
		RequiresCondition: ifv-demo
	WithVoxelTurret@yuri:
		Sequence: turret-yuri
		RequiresCondition: ifv-yuri
	WithVoxelTurret@hitech:
		Sequence: turret-hitech
		RequiresCondition: ifv-init || ifv-dog || ifv-chrono
	WithVoxelTurret@ambu:
		Sequence: turret-medic
		RequiresCondition: ifv-medic
	Voiced:
		VoiceSet: IFVVoice
	ProducibleWithLevel:
		Prerequisites: vetifv
	HitShape:

sref:
	Inherits: ^Vehicle
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@MC: ^MindControllableDisabledWithIC
	Inherits@RADIATON: ^DamagedByRadiation10Percent
	Buildable:
		Queue: Vehicle.Allies
		BuildPaletteOrder: 70
		Prerequisites: gatech, ~techlevel.3
		Description: Fires deadly beams of light.\n  Strong vs Infantry, Vehicles\n  Weak vs Aircraft
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Valued:
		Cost: 1200
	Tooltip:
		Name: Prism Tank
	Selectable:
		Bounds: 64, 52, 0, -10
	Health:
		HP: 150
	Armor:
		Type: Heavy
	Mobile:
		TurnSpeed: 5
		Speed: 60
		Locomotor: heavytracked
	RevealsShroud:
		Range: 8c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 8c0
	RevealOnDeath:
		Radius: 4c0
	Turreted:
		TurnSpeed: 10
		Offset: -30,0,85
	Armament@primary:
		Weapon: Comet
		LocalOffset: 240,0,1280
		RequiresCondition: !rank-elite
	Armament@elite:
		Weapon: SuperComet
		LocalOffset: 240,0,1280
		RequiresCondition: rank-elite
	AttackTurreted:
		Voice: Attack
		TargetFrozenActors: True
		PauseOnCondition: chronodisable || emp || parachute
	AutoTarget:
	Explodes:
		Weapon: UnitExplodeSmall
		EmptyWeapon: UnitExplodeSmall
	RenderSprites:
	RenderVoxels:
	GrantConditionOnAttack@turretcharge1:
		Condition: turretcharge
		RevokeDelay: 5
	GrantConditionOnAttack@turretcharge2:
		Condition: turretcharge
		RevokeDelay: 10
	GrantConditionOnAttack@turretcharge3:
		Condition: turretcharge
		RevokeDelay: 15
	WithVoxelTurret:
		RequiresCondition: !turretcharge
	WithVoxelTurret@stage1:
		RequiresCondition: turretcharge == 1
		Sequence: turret-stage1
	WithVoxelTurret@stage2:
		RequiresCondition: turretcharge == 2
		Sequence: turret-stage2
	WithVoxelTurret@stage3:
		RequiresCondition: turretcharge == 3
		Sequence: turret-stage3
	WithVoxelBody:
	Voiced:
		VoiceSet: PrismTankVoice
	ProducibleWithLevel:
		Prerequisites: warfactory.infiltrated
	HitShape:

mgtk:
	Inherits: ^Vehicle
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@MC: ^MindControllableDisabledWithIC
	Inherits@RADIATON: ^DamagedByRadiation50Percent
	Buildable:
		Queue: Vehicle.Allies
		BuildPaletteOrder: 80
		Prerequisites: gatech, ~techlevel.3
		Description: Tank cloaks itself while immobile.\n  Strong vs Infantry, Vehicles\n  Weak vs Aircraft
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Valued:
		Cost: 1000
	Tooltip:
		Name: Mirage Tank
	Selectable:
		Bounds: 64, 52, 0, -6
	Health:
		HP: 200
	Armor:
		Type: Light
	Mobile:
		TurnSpeed: 5
		Speed: 105
		Locomotor: heavytracked
	RevealsShroud:
		Range: 9c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 9c0
	RevealOnDeath:
		Radius: 4c512
	Armament@primary:
		Weapon: MirageGun
		LocalOffset: 640,0,640
		RequiresCondition: !rank-elite
	Armament@elite:
		Weapon: MirageGunE
		LocalOffset: 640,0,640
		RequiresCondition: rank-elite
	Cloak:
		RequiresCondition: !chronodisable && !emp
		InitialDelay: 25
		CloakDelay: 25
		IsPlayerPalette: true
		UncloakOn: Attack, Damage, Move
	AttackFrontal:
		Voice: Attack
		PauseOnCondition: chronodisable || emp
		FacingTolerance: 2
	AutoTarget:
		AllowMovement: false
	Explodes:
		Weapon: UnitExplodeSmall
		EmptyWeapon: UnitExplodeSmall
	RenderSprites:
	RenderVoxels:
	WithVoxelBody:
	Voiced:
		VoiceSet: MirageTankVoice
	ProducibleWithLevel:
		Prerequisites: warfactory.infiltrated
	HitShape:

# Yuri's Revenge Vehicles:
bfrt:
	Inherits: ^Vehicle
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@MC: ^MindControllableDisabledWithIC
	Inherits@RADIATON: ^DamagedByRadiation10Percent
	Buildable:
		Queue: Vehicle.Allies
		BuildPaletteOrder: 90
		Prerequisites: gatech, ~techlevel.4
		Description: Large vehicle with 5 fireports for infantry in to fire.\nCan crush enemy vehicles.
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Valued:
		Cost: 1750
	Tooltip:
		Name: Battle Fortress
	Selectable:
		Bounds: 72, 64, 0, -8
	Health:
		HP: 600
	Armor:
		Type: Heavy
	Mobile:
		TurnSpeed: 5
		Speed: 75
		Locomotor: omnicrusher
		RequiresCondition: !notmobile && !chronodisable && !emp && !beingterrordroned
	-Crushable:
	RevealsShroud:
		Range: 6c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 6c0
	RevealOnDeath:
		Radius: 3c0
	Armament@primary:
		Weapon: 20mmrapid
		RequiresCondition: !rank-elite
	Armament@elite:
		Weapon: 20mmrapidE
		RequiresCondition: rank-elite
	AttackFrontal:
		Voice: Attack
		FacingTolerance: 2
		PauseOnCondition: chronodisable || emp
	Cargo:
		Types: Infantry, Garrisoner
		MaxWeight: 5
		PipCount: 5
		UnloadVoice: Move
		EjectOnDeath: true
		LoadingCondition: notmobile
		PassengerConditions:
			e1: loaded
			e2: loaded
			init: loaded
			gren: loaded
			ggi: loaded-air
			flakt: loaded-air
			shk: loaded
			pyro: loaded
			deso: loaded
			tany: loaded
			ghost: loaded
			boris: loaded
			ccomand: loaded
			snipe: loaded
			cleg: loaded
	AutoTargetPriority@DEFAULT:
		RequiresCondition: !stance-attackanything && !assault-move && !loaded-air
	AutoTargetPriority@ATTACKANYTHING:
		RequiresCondition: (stance-attackanything || assault-move) && !loaded-air
	AutoTargetPriority@DEFAULT_AIR:
		RequiresCondition: (!stance-attackanything && !assault-move) && loaded-air
		ValidTargets: Infantry, Vehicle, Ship, Water, Underwater, Defense, Air
		InvalidTargets: NoAutoTarget, WaterStructure
	AutoTargetPriority@ATTACKANYTHING_AIR:
		RequiresCondition: (stance-attackanything || assault-move) && loaded-air
		ValidTargets: Infantry, Vehicle, Ship, Water, Underwater, Structure, Defense, Air
		InvalidTargets: NoAutoTarget
	AttackGarrisoned:
		Voice: Attack
		Armaments: opentopped
		PortOffsets: 768,0,256, 448,-682,256, -448,-682,256, -768,0,256, -448,682,256, 448,682,256
		PortYaws: 0, 176, 341, 512, 682, 853
		PortCones: 88, 88, 88, 88, 88, 88
		PauseOnCondition: chronodisable || emp
		RequiresCondition: loaded || loaded-air
	Explodes:
		Weapon: UnitExplode
		EmptyWeapon: UnitExplode
	RenderSprites:
	RenderVoxels:
		Scale: 12
	WithVoxelBody:
	Voiced:
		VoiceSet: BattleFortressVoice
	ProducibleWithLevel:
		Prerequisites: warfactory.infiltrated
	HitShape:

robo:
	Inherits: ^Vehicle
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Valued:
		Cost: 700
	Tooltip:
		Name: Robot Tank
	Buildable:
		Queue: Vehicle.Allies
		Prerequisites: ~techlevel.2
		BuildPaletteOrder: 40
		Description: Remote controlled vehicle.\nCan move over water.\nCannot be mind controlled.\nRequires an Allied War Factory to operate.\n  Strong vs Vehicles, Ships\n  Weak vs Infantry, Aircraft
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Mobile:
		Speed: 120
		TurnSpeed: 15
		Locomotor: amphibious
		RequiresCondition: !chronodisable && !emp && !beingterrordroned && powered
	Hovers:
		Ticks: 10
		OffsetModifier: 64
		# PauseOnCondition: chronodisable
		RequiresCondition: !emp && powered
	Health:
		HP: 180
	Armor:
		Type: Heavy
	RevealsShroud:
		Range: 6c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 6c0
	RevealOnDeath:
		Radius: 3c0
	Turreted:
		TurnSpeed: 9
	Armament:
		Weapon: robogun
		Recoil: 87
		RecoilRecovery: 12
		LocalOffset: 640,0,512
		RequiresCondition: !rank-elite
	Armament@elite:
		Weapon: robogunE
		Recoil: 87
		RecoilRecovery: 12
		LocalOffset: 640,0,512
		RequiresCondition: rank-elite
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: !powered || chronodisable || emp || parachute
	AutoTarget:
	RenderSprites:
	Selectable:
		Bounds: 52, 52, 0, -16
	RenderVoxels:
	WithVoxelBody:
	WithVoxelTurret:
	WithColoredOverlay:
		Palette: disabled
		RequiresCondition: !powered
	KillsSelf@LowPowerOnWater:
		RequiresCondition: (!powered || emp) && in_water
	ExplodeWeapon@disabledsparks:
		RequiresCondition: !powered
		Weapon: DisabledSparkSpawner
		LocalOffset: 0,0,384
	GrantConditionOnPrerequisite:
		Condition: powered
		Prerequisites: powered_gaweap
	Targetable:
		TargetTypes: Ground, Vehicle, DetonateAttack, DroneInfection, ImmuneToRadiation
		RequiresCondition: !in_water
	Targetable@WATER:
		TargetTypes: Ground, Water, Vehicle, DetonateAttack, ImmuneToRadiation
		RequiresCondition: in_water
	GrantConditionOnTerrain@Water:
		TerrainTypes: Water
		Condition: in_water
	LeavesTrails:
		Image: wake
		Palette: effect50alpha
		TerrainTypes: Water
		StationaryInterval: 18
		MovingInterval: 6
	Voiced:
		VoiceSet: RobotTankVoice
	ProducibleWithLevel:
		Prerequisites: warfactory.infiltrated
	DeathSounds:
	HitShape:

# Custom Allied Vehicles:
ctnk:
	Inherits: ^Vehicle
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Inherits@EXPERIENCE: ^GainsExperience
	Inherits@MC: ^MindControllableDisabledWithIC
	Inherits@RADIATON: ^DamagedByRadiation50Percent
	Buildable:
		Queue: Vehicle.Allies
		BuildPaletteOrder: 990
		Prerequisites: gatech, ~caslab, ~techlevel.4
		Description: Armed with anti-ground missiles.\nTeleports to areas within range.\n  Strong vs Vehicles, Buildings\n  Weak vs Infantry, Aircraft\n  Special ability: Can teleport
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Valued:
		Cost: 2000
	Tooltip:
		Name: Chrono Dragon
	Health:
		HP: 200
	Armor:
		Type: Light
	Mobile:
		Speed: 90
	RevealsShroud:
		Range: 6c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 6c0
	RevealOnDeath:
		Radius: 3c0
	Armament@PRIMARY:
		Weapon: APTusk
		LocalOffset: -256,-384,1024, -256,-192,1024, -128,-384,768, -128,-192,768
		RequiresCondition: !rank-elite
	Armament@SECONDARY:
		Weapon: APTusk
		LocalOffset: -256,384,1024, -256,192,1024, -128,384,768, -128,192,768
		RequiresCondition: !rank-elite
	Armament@PRIMARY_ELITE:
		Weapon: APTuskE
		LocalOffset: -256,-384,1024, -256,-192,1024, -128,-384,768, -128,-192,768
		RequiresCondition: rank-elite
	Armament@SECONDARY_ELITE:
		Weapon: APTuskE
		LocalOffset: -256,384,1024, -256,192,1024, -128,384,768, -128,192,768
		RequiresCondition: rank-elite
	AttackFrontal:
		Voice: Attack
		PauseOnCondition: chronodisable || emp
		FacingTolerance: 2
	PortableChronoRA2:
		ChronoshiftSound: ichrmova.wav
		DeployCursor: chronosphere
		DeployBlockedCursor: chronosphere
		Voice: Move
		ChargeDelay: 300
		HasDistanceLimit: false
		TargetCursor: chronosphere
		TeleportCondition: chronoed
		ConditionDuration: 300
	GrantCondition@ChronoDisable:
		RequiresCondition: affectedbytemporal || chronoed
	ProducibleWithLevel:
		Prerequisites: warfactory.infiltrated
	Selectable:
		Bounds: 52, 52, 0, -6
	RenderSprites:
	RenderVoxels:
		Scale: 8.5
	WithVoxelBody:
	HitShape:
	Voiced:
		VoiceSet: ChronoTankVoice
