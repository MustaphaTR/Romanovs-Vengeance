gacnst:
	Inherits: ^ConstructionYard
	Selectable:
		Bounds: 160, 95, 0, -20
		DecorationBounds: 220, 155, 0, -20
	Production:
		Produces: Building.Allies, Support.Allies, Support.France
	ProductionQueue@Building:
		Type: Building.Allies
	ProductionQueue@Support:
		Type: Support.Allies
		Factions: america, germany, england, korea, cuba, libya, iraq, russia, vietnam, psicorps
	ProductionQueue@SupportFrance:
		Type: Support.France
		Factions: france
		Group: Support
		LowPowerModifier: 200
		ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar@Building:
		ProductionType: Building.Allies
	ProductionBar@Support:
		ProductionType: Support.Allies
	ProductionBar@SupportFrance:
		ProductionType: Support.France
		Color: 8A8A8A
	Transforms:
		IntoActor: amcv
	WithIdleOverlay@fans:
		Sequence: idle-fans
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	WithBuildingPlacedOverlay:
		RequiresCondition: !build-incomplete && !chronodisable
	GrantConditionOnFaction@America:
		Condition: america
		Factions: america
	GrantConditionOnFaction@England:
		Condition: england
		Factions: england
	GrantConditionOnFaction@France:
		Condition: france
		Factions: france
	GrantConditionOnFaction@Germany:
		Condition: germany
		Factions: germany
	GrantConditionOnFaction@Korea:
		Condition: korea
		Factions: korea
	WithIdleOverlay@America:
		Sequence: flag-usa
		Palette: player
		IsPlayerPalette: false
		RequiresCondition: !build-incomplete && america
	WithIdleOverlay@England:
		Sequence: flag-uk
		Palette: player
		IsPlayerPalette: false
		RequiresCondition: !build-incomplete && england
	WithIdleOverlay@France:
		Sequence: flag-france
		Palette: player
		IsPlayerPalette: false
		RequiresCondition: !build-incomplete && france
	WithIdleOverlay@Germany:
		Sequence: flag-germany
		Palette: player
		IsPlayerPalette: false
		RequiresCondition: !build-incomplete && germany
	WithIdleOverlay@Korea:
		Sequence: flag-korea
		Palette: player
		IsPlayerPalette: false
		RequiresCondition: !build-incomplete && korea

gapowr:
	Inherits: ^BaseBuilding
	Inherits@DRAIN: ^DiskDrainable
	Inherits@MC: ^MindControllableBuilding
	Inherits@POWEROUTAGE: ^DisabledByPowerOutage
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Allies
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 10
		Description: Provides power for other structures.
	Selectable:
		Bounds: 56, 58, -2, -14
		DecorationBounds: 96, 98, -2, -24
	Valued:
		Cost: 500
	Tooltip:
		Name: Power Plant
	Tooltip@NoRow:
		Name: Power Plant
	ProvidesPrerequisite@default:
	ProvidesPrerequisite@no-plug:
		Prerequisite: gapowr.pluggable
		RequiresCondition: !powrup
	ProvidesPrerequisite:
		Prerequisite: power
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 500
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 6c0
	Pluggable@1:
		Offset: 0,0
		Conditions:
			powrup: powrup
		Requirements:
			powrup: !build-incomplete && !powrup
	Pluggable@2:
		Offset: 0,1
		Conditions:
			powrup: powrup
		Requirements:
			powrup: !build-incomplete && !powrup
	Pluggable@3:
		Offset: 1,0
		Conditions:
			powrup: powrup
		Requirements:
			powrup: !build-incomplete && !powrup
	Pluggable@4:
		Offset: 1,1
		Conditions:
			powrup: powrup
		Requirements:
			powrup: !build-incomplete && !powrup
	WithIdleOverlay@glow:
		Sequence: idle-glow
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete && !powrup
	WithIdleOverlay@glow-coolant:
		Sequence: idle-glow-coolant
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete && powrup
	Power:
		Amount: 150
		RequiresCondition: !chronodisable && !forceshieldnopower && !diskdrain && !power-outage
	Power@plug:
		Amount: 150
		RequiresCondition: !chronodisable && !forceshieldnopower && !diskdrain && !power-outage && powrup
	GrantCondition@IDISABLE:
		RequiresCondition: power-outage || diskdrain
	GrantConditionOnPrerequisite@forceshield:
		Condition: forceshieldnopower
		Prerequisites: forceshield
	ScalePowerWithHealth:
	SoundOnDamageTransition:
		DestroyedSounds: bpowdiea.wav, bpowdieb.wav
	PowerTooltip:
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure, SpyInfiltrate

gapowrup:
	Inherits: ^BuildingPlug
	Valued:
		Cost: 200
	Tooltip:
		Name: Advanced Coolants
	Buildable:
		Queue: Support.Allies, Support.France
		BuildPaletteOrder: 80
		Prerequisites: gapowr, gaairc, ~techlevel.2
		Description: Better coolants allow power plant to work more efficently\nproviding 150 more power.
	Plug:
		Type: powrup
	Power:
		Amount: 150

gapile:
	Inherits: ^Barracks
	Inherits@shape: ^3x2Shape
	Buildable:
		Queue: Building.Allies
	Selectable:
		Bounds: 84, 72, 0, -8
		DecorationBounds: 134, 132, 0, -28
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	RallyPoint:
		Offset: 2,3
	Exit@0_n1:
		SpawnOffset: 170,-810,0
		ExitCell: 0, -1
	Exit@0_2:
		SpawnOffset: -900,220,0
		ExitCell: 0, 2
	Exit@2_n1:
		SpawnOffset: 900,-220,0
		ExitCell: 2, -1
	Exit@2_2:
		SpawnOffset: -170,810,0
		ExitCell: 2, 2
	Production:
		Produces: Infantry.Allies, Infantry.USA, Infantry.UK
	ProductionQueue:
		Type: Infantry.Allies
		Factions: germany, france, korea, cuba, libya, iraq, russia, vietnam, psicorps
	ProductionQueue@USA:
		Type: Infantry.USA
		Factions: america
		Group: Infantry
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@UK:
		Type: Infantry.UK
		Factions: england
		Group: Infantry
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Infantry.Allies
	ProductionBar@USA:
		ProductionType: Infantry.USA
	ProductionBar@UK:
		ProductionType: Infantry.UK
	WithIdleOverlay@flag:
		Sequence: idle-flag
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@gapile:
		Prerequisite: gapile
	PlaceBuildingVariants:
		Actors: gapilb

garefn:
	Inherits: ^Refinery
	Buildable:
		Queue: Building.Allies
	Selectable:
		Bounds: 126, 70, 0, -5
		DecorationBounds: 176, 150, 0, -20
	FreeActor:
		Actor: cmin
	PlaceBuildingVariants:
		Actors: garefb, garefc, garefd

gaairc:
	Inherits: ^BaseBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^3x2Shape
	Buildable:
		Queue: Building.Allies
		BuildPaletteOrder: 60
		Prerequisites: power, garefn, ~techlevel.2
		Description: Provides radar.\nProduces Allied aircraft.\nSupports 4 aircraft.
	Valued:
		Cost: 1500
	Tooltip:
		Name: Airforce Command Headquarters
	Tooltip@NoRow:
		Name: Airforce Command Headquarters
	ProvidesPrerequisite:
		Prerequisite: radar
	ProvidesPrerequisite@america:
		Prerequisite: radar.america
		Factions: america
	ProvidesPrerequisite@england:
		Prerequisite: radar.england
		Factions: england
	ProvidesPrerequisite@germany:
		Prerequisite: radar.germany
		Factions: germany
	ProvidesPrerequisite@france:
		Prerequisite: radar.france
		Factions: france
	ProvidesPrerequisite@korea:
		Prerequisite: radar.korea
		Factions: korea
	ProvidesPrerequisite@gaairc:
		Prerequisite: gaairc
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	Selectable:
		Bounds: 92, 70, -3, -05
		DecorationBounds: 142, 150, -3, -42
	Health:
		HP: 1000
	Armor:
		Type: Wood
	ExternalCondition@disableradar:
		Condition: disableradar
	ProvidesRadar:
		RequiresCondition: !disabled && !chronodisable && !disableradar
	RevealsShroud:
		Range: 10c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 10c0
	WithIdleOverlay@top:
		Sequence: idle-top
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@bottom:
		Sequence: idle-bottom
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@mid:
		Sequence: idle-mid
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@dish:
		Sequence: idle-dish
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure, SpyInfiltrate
	Power:
		Amount: -75
	Reservable:
	Exit@1:
		Facing: 224
		SpawnOffset: 1024,512,0
	Exit@2:
		Facing: 224
		SpawnOffset: 512,1024,0
	Exit@3:
		Facing: 224
		SpawnOffset: -512,512,0
	Exit@4:
		Facing: 224
		SpawnOffset: 512,-512,0
	GrantExternalConditionToProduced:
		Condition: produced
	Production:
		Produces: Aircraft.Allies, Aircraft.Korea
		PauseOnCondition: powerdown || chronodisable
	ProductionQueue:
		Type: Aircraft.Allies
		Factions: america, germany, england, france, cuba, libya, iraq, russia, vietnam, psicorps
		Group: Aircraft
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@Korea:
		Type: Aircraft.Korea
		Factions: korea
		Group: Aircraft
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Aircraft.Allies
	ProductionBar@Korea:
		ProductionType: Aircraft.Korea
	InfiltrateForExploration:
		Types: SpyInfiltrate
	SupportPowerChargeBar:
	ParatroopersPower@paratroopers:
		OrderName: AmericanParatroopers
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.america
		Icons:
			1: airborne
		ChargeInterval: 4500
		Descriptions:
			1: Airborne
		LongDescs:
			1: 2 Cargo Planes drop 5 GIs and 5 Guardian GIs\nanywhere on the map.
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: ParatroopersReady
		DropItems:
			1: e1,e1,e1,e1,e1,ggi,ggi,ggi,ggi,ggi
		SquadSizes:
			1: 2
		QuantizedFacings: 8
		UnitTypes:
			1: alplane
		CameraActor: camera
		DisplayBeacon: True
		BeaconPosters:
			1: aparicon
		ArrowSequence: arrow
		ClockSequence: clock
		UseDirectionalTarget: True
		DirectionArrowAnimation: swdirection
		DirectionArrowPalette: mouse
	AirstrikePower@leafletdrop:
		OrderName: BritishLeafletDrop
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.england
		Icons:
			1: leaflet
		ChargeInterval: 3750
		Descriptions:
			1: Leaflet Drop
		LongDescs:
			1: A Cargo Plane drops leaflets\nanywhere on the map.\nLeaflets slow enemy infantry\nand vehicle movement and\nfire speed.
		SelectTargetSpeechNotification: SelectTarget
		UnitTypes:
			1: pdplane.leaflet
		SquadSizes:
			1: 1
		QuantizedFacings: 8
		CameraActor: CAMERA
		CameraRemoveDelay: 100
		DisplayBeacon: True
		BeaconPosters:
			1: leaficon
		ArrowSequence: arrow
		ClockSequence: clock
		UseDirectionalTarget: True
		DirectionArrowAnimation: swdirection
		DirectionArrowPalette: mouse
	DetonateWeaponPower@chronogrizzly:
		OrderName: GermanChronoGrizzly
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.germany
		Icons:
			1: grizzly
		ChargeInterval: 6000
		Descriptions:
			1: Chrono Grizzly
		LongDescs:
			1: Chronoshifts 3 Grizzly Tanks\nanywhere on the map.
		SelectTargetSpeechNotification: SelectTarget
		Weapons:
			1: GrizzlySpawner
		ActivationSequence:
		CameraRange: 8c0
		CameraRemoveDelay: 25
	ParatroopersPower@paratanks:
		OrderName: GermanTankDrop
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: disabled
		Icons:
			1: tankdrop
		ChargeInterval: 6000
		Descriptions:
			1: Tank Drop
		LongDescs:
			1: 3 Cargo Planes drops 3 Grizzly Tanks\nanywhere on the map.
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: ParatroopersReady
		DropItems:
			1: mtnk, mtnk, mtnk
		SquadSizes:
			1: 3
		SquadOffset: -2048, 2048, 0
		QuantizedFacings: 8
		UnitTypes:
			1: alplane
		CameraActor: camera
		DisplayBeacon: True
		BeaconPosters:
			1: tdrpicon
		ArrowSequence: arrow
		ClockSequence: clock
		UseDirectionalTarget: True
		DirectionArrowAnimation: swdirection
		DirectionArrowPalette: mouse
	GrantExternalConditionPower@forceshield:
		OrderName: FrenchForceShield
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.france
		Icons:
			1: force
		Cursor: force-shield
		ChargeInterval: 4500
		Descriptions:
			1: Force Shield
		LongDescs:
			1: Makes a group of buildings invulnerable for 15 seconds.
		Durations:
			1: 375
		Conditions:
			1: forceshield
		Ranges:
			1: 3
		OnFireSound: sforceon.wav
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: ForceShieldReady
		LaunchSpeechNotification: ForceShieldActivated
		IncomingSpeechNotification: ForceShieldActivated
	AirstrikePower@empulse:
		OrderName: KoreanEMP
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.korea
		Icons:
			1: empulse
		ChargeInterval: 7500
		Descriptions:
			1: E. M. Pulse Strike
		LongDescs:
			1: A Cargo Plane drops an Electromagnetic Pulse\nbomb anywhere on the map.
		SelectTargetSpeechNotification: SelectTarget
		UnitTypes:
			1: pdplane.emp
		SquadSizes:
			1: 1
		QuantizedFacings: 8
		CameraActor: CAMERA
		CameraRemoveDelay: 100
		DisplayBeacon: True
		BeaconPosters:
			1: empuicon
		ArrowSequence: arrow
		ClockSequence: clock
		UseDirectionalTarget: True
		DirectionArrowAnimation: swdirection
		DirectionArrowPalette: mouse
	RallyPoint:
		Offset: 1,2
		Palette: mouse
		IsPlayerPalette: false
	PlaceBuildingVariants:
		Actors: gaairb

gaweap:
	Inherits: ^WarFactory
	Buildable:
		Queue: Building.Allies
	Selectable:
		Bounds: 152, 88, -15, -08
		DecorationBounds: 212, 158, -7, -28
	ProvidesPrerequisite@gaweap:
		Prerequisite: gaweap
	ProvidesPrerequisite@powered:
		Prerequisite: powered_robo
		RequiresCondition: !chronodisable
	Production:
		Produces: Vehicle.Allies, Vehicle.Germany
	ProductionQueue:
		Type: Vehicle.Allies
		Factions: america, england, france, korea, cuba, libya, iraq, russia, vietnam, psicorps
	ProductionQueue@Germany:
		Type: Vehicle.Germany
		Factions: germany
		Group: Vehicle
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Vehicle.Allies
	ProductionBar@Germany:
		ProductionType: Vehicle.Germany
	WithIdleOverlay@flag:
		Sequence: idle-flag
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@fan:
		Sequence: overlay-fan
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	PlaceBuildingVariants:
		Actors: gaweab, gaweac, gawead

gayard:
	Inherits: ^Shipyard
	Buildable:
		Queue: Building.Allies
	Selectable:
		Bounds: 92, 100, -3, -22
		DecorationBounds: 152, 190, 10, -50
	Production:
		Produces: Ship.Allies
	ProductionQueue:
		Type: Ship.Allies
	ProductionBar:
		ProductionType: Ship.Allies
	-WithProductionOverlay@lights:

gadept:
	Inherits: ^ServiceDepot
	Inherits@shape: ^3x3Shape
	Buildable:
		Queue: Building.Allies
		Prerequisites: gaweap, ~techlevel.1
	Selectable:
		Bounds: 104, 48, -12, -6
		DecorationBounds: 144, 88, -12, -16
	Building:
		Footprint: x== xx= x==
		Dimensions: 3,3
	RallyPoint:
		Offset: 3,1
	WithIdleOverlay@side:
		Sequence: idle-side
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete

gatech:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^3x2Shape
	Buildable:
		Queue: Building.Allies
		BuildPaletteOrder: 90
		Prerequisites: gaairc, ~techlevel.3
		Description: Allows deployment of advanced units.\nCan be rotated.
	Selectable:
		Bounds: 72, 76, 0, -10
		DecorationBounds: 122, 216, 0, -81
	Valued:
		Cost: 2000
	Tooltip:
		Name: Battle Lab
	Tooltip@NoRow:
		Name: Battle Lab
	ProvidesPrerequisite@gatech:
		Prerequisite: gatech
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	Health:
		HP: 500
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 6c0
	WithIdleOverlay@lights:
		Sequence: idle-lights
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: -100
	InfiltrateForSupportPower:
		Types: SpyInfiltrate
		Proxy: allies.tech.infiltrated
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure, SpyInfiltrate
	PlaceBuildingVariants:
		Actors: gatecb

gawall:
	Inherits: ^Wall
	Buildable:
		Queue: Support.Allies, Support.France
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 10
		Description: Heavy wall capable of blocking units and projectiles.
	Tooltip:
		Name: Allied Wall
	Tooltip@NoRow:
		Name: Allied Wall
	LineBuild:
		NodeTypes: gawall
	LineBuildNode:
		Types: gawall
	WithWallSpriteBody:
		Type: gawall
	Replaceable:
		Types: AlliedGate

gapill:
	Inherits: ^SupportBuilding
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@MC: ^MindControllableBuilding
	Buildable:
		Queue: Support.Allies, Support.France
		BuildPaletteOrder: 40
		Prerequisites: gapile, ~techlevel.1
		Description: Automated anti-infantry defense.
	Valued:
		Cost: 500
	Tooltip:
		Name: Pill Box
	Tooltip@NoRow:
		Name: Pill Box
	Building:
		Footprint: x
		Dimensions: 1, 1
	Health:
		HP: 400
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 7c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 7c0
	Selectable:
		Bounds: 50, 30, 0, -4
	Armament:
		Weapon: vulcan2
		LocalOffset: 416,0,416
		MuzzleSequence: muzzle
		MuzzleSplitFacings: 8
	WithMuzzleOverlay:
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Turreted:
		TurnSpeed: 255
	DetectCloaked:
		Range: 5c0
	RenderDetectionCircle:
	BodyOrientation:
		QuantizedFacings: 8
	WithRangeCircle:
		Range: 6c0
		Type: pillbox
	AutoTarget:
	RequiresBuildableArea:
		Adjacent: 4

nasam:
	Inherits: ^VoxelLighting
	Inherits@AUTOTARGET: ^AutoTargetAir
	Inherits@DRAIN: ^DiskDrainable
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Buildable:
		Queue: Support.Allies, Support.France
		BuildPaletteOrder: 50
		Prerequisites: gaairc, ~techlevel.2
		Description: Automated anti-aircraft defense.
	Valued:
		Cost: 600
	Tooltip:
		Name: Patriot Missile System
	Tooltip@NoRow:
		Name: Patriot Missile System
	Building:
		Footprint: x
		Dimensions: 1, 1
	Health:
		HP: 600
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 8c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 8c0
	Selectable:
		Bounds: 46, 52, 0, -10
		DecorationBounds: 46, 62, 0, -20
	Turreted:
		TurnSpeed: 10
		InitialFacing: 224
		PreviewFacing: 224
		Offset: 550,0,0
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Armament:
		Weapon: RedEye2
		LocalOffset: 500,200,900, 500,-200,900
	BodyOrientation:
		QuantizedFacings: 16
	RenderVoxels:
		NormalsPalette: ts-normals
	WithVoxelTurret:
		RequiresCondition: !build-incomplete
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || diskdrain
	WithRangeCircle:
		Range: 12c0
		Type: aa
	AutoTarget:
	Power:
		Amount: -30
	RequiresBuildableArea:
		Adjacent: 3

gtgcan:
	Inherits: ^VoxelLighting
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@DRAIN: ^DiskDrainable
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Support.France
		BuildPaletteOrder: 70
		Prerequisites: gaairc, ~techlevel.3
		Description: Automated, long ranged anti-ground defense.
	Valued:
		Cost: 2500
	Tooltip:
		Name: Grand Cannon
	Tooltip@NoRow:
		Name: Grand Cannon
	Building:
		Footprint: xx xx
		Dimensions: 2, 2
	Health:
		HP: 900
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 10c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 10c0
	Selectable:
		Bounds: 56, 48, -2, -10
		DecorationBounds: 106, 78, -2, -19
	Turreted:
		TurnSpeed: 3
		InitialFacing: 224
		PreviewFacing: 224
		Offset: 400,0,0
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Armament:
		Weapon: GrandCannonWeapon
		Recoil: 127
		RecoilRecovery: 26
		MuzzleSequence: muzzle
		LocalOffset: 1792,0,1280
	BodyOrientation:
		QuantizedFacings: 16
	RenderVoxels:
		NormalsPalette: ts-normals
	WithVoxelTurret:
		RequiresCondition: !build-incomplete
	WithVoxelBarrel:
		RequiresCondition: !build-incomplete
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || diskdrain
	AutoTarget:
	WithMuzzleOverlay:
	WithRangeCircle:
		Range: 15c0
		Type: grandcannon
	Power:
		Amount: -100

gaorep:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^3x3Shape
	Buildable:
		Queue: Building.Allies
		BuildPaletteOrder: 120
		Prerequisites: garefn, gatech, ~techlevel.4
		Description: Refines income from ores and gems by 25%.\nMaximum 1 can be built.\nCan not be captured.
		BuildLimit: 1
	Selectable:
		Bounds: 84, 52, -10, -11
		DecorationBounds: 134, 102, -10, -21
	Valued:
		Cost: 2000
	Tooltip:
		Name: Ore Purifier
	Tooltip@NoRow:
		Name: Ore Purifier
	-Capturable:
	-CaptureNotification:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-GrantConditionOnPrerequisite@INSTANTCAPTURE:
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	Health:
		HP: 750
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 6c0
	WithIdleOverlay@glow:
		Sequence: idle-glow
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	ResourcePurifier:
		Modifier: 25
	Power:
		Amount: -200

gaspysat:
	Inherits: ^BaseBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Allies
		BuildPaletteOrder: 110
		Prerequisites: gatech, ~techlevel.4
		Description: Provides Satellite Scan power, which reveals the map for a while.\nProvides Radar.
	Selectable:
		Bounds: 56, 48, -4, -10
		DecorationBounds: 96, 98, -4, -30
	Valued:
		Cost: 1500
	Tooltip:
		Name: Spy Satellite Uplink
	Tooltip@NoRow:
		Name: Spy Satellite Uplink
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 500
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 15c0
		RequiresCondition: !disabled
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 15c0
		RequiresCondition: !disabled
	RevealsShroud@DISABLED:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroudToIntelligenceOwner@DISABLED:
		Types: SatelliteScan
		Range: 5c0
		RequiresCondition: disabled
	WithIdleOverlay@dish:
		Sequence: idle-dish
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: -100
	ExternalCondition@disableradar:
		Condition: disableradar
	ProvidesRadar:
		RequiresCondition: !disabled && !chronodisable && !disableradar
	ProvidesPrerequisite@default:
	Production:
		Produces: SpySatellite
	Exit:
	SupportPowerChargeBar:
	ProduceActorPower@SatelliteScan:
		PauseOnCondition: disabled
		Prerequisites:
			1: gaspysat
		Descriptions:
			1: Satellite Scan
		LongDescs:
			1: Reveals the whole map for 30 seconds.\nActivated automatically.
		Icons:
			1: satscan
		Actors: camera.satscan
		Type: SpySatellite
		AutoFire: true
		ChargeInterval: 4500
		OrderName: SatelliteScanPowerInfoOrder

gagap:
	Inherits: ^SupportBuilding
	Inherits@DRAIN: ^DiskDrainable
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@MC: ^MindControllableBuilding
	Valued:
		Cost: 500
	Tooltip:
		Name: Gap Generator
	Tooltip@NoRow:
		Name: Gap Generator
	Buildable:
		Queue: Support.Allies, Support.France
		BuildPaletteOrder: 80
		Prerequisites: gatech, ~techlevel.3
		Description: Obscures the enemy's view with shroud.\nRequires power to operate.
	Selectable:
		Bounds: 50, 44, -1, -05
		DecorationBounds: 50, 114, -1, -45
	Health:
		HP: 600
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 6c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 6c0
	CreatesShroud:
		Range: 10c0
		RequiresCondition: !disabled && !chronodisable
	Capturable:
		Types: building
		RequiresCondition: !build-incomplete
	CaptureNotification:
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure
	RenderShroudCircle:
	WithIdleOverlay@head:
		Sequence: idle-head
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || diskdrain
	Power:
		Amount: -50
	MustBeDestroyed:
		RequiredForShortGame: false

gaweat:
	Inherits: ^PrimarySuperWeapon
	Buildable:
		Queue: Support.Allies, Support.France
		Prerequisites: gatech, !enoughweather, ~techlevel.5
		Description: Play God with deadly weather!
	Selectable:
		Bounds: 66, 46, -2, -06
		DecorationBounds: 116, 106, -2, -26
	Tooltip:
		Name: Weather Controller
	Tooltip@NoRow:
		Name: Weather Controller
	DetonateWeaponPower@WeatherStorm:
		OrderName: WeatherStormInfoOrder
		Prerequisites:
			1: gaweat
		Icons:
			1: bolticon
		Cursor: weatherstorm
		ChargeInterval: 9000
		Descriptions:
			1: Lightning Storm
		LongDescs:
			1: Applies heavy damage over a large area.
		Weapons:
			1: WeatherStormInit
		AirburstAltitude: 4c512
		AllowMultiple: true
		CameraRange: 10c0
		CameraRemoveDelay: 375
		SpawnCameraAtGround: true
		EndChargeSound: swearead.wav
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: LightningStormReady
		LaunchSpeechNotification: LightningStormCreated
		IncomingSpeechNotification: LightningStormCreated
		DisplayTimerStances: Ally, Neutral, Enemy
		PauseOnCondition: disabled || chronodisable
		DisplayRadarPing: True
		TargetCircleRanges:
			1: 10c0
	ProvidesPrerequisite@swlimit:
		Prerequisite: enoughweather
	AnnounceOnSeen:
		Notification: WeathercontrolDeviceDetected

gacsph:
	Inherits: ^SecondarySuperWeapon
	Inherits@shape: ^4x3Shape
	Buildable:
		Queue: Support.Allies, Support.France
		Prerequisites: gatech, !enoughchrono, ~techlevel.5
		Description: Allows teleporting maximum of 13 vehicles.\nKills infantry.\nCan be rotated.
	Selectable:
		Bounds: 116, 60, -5, -4
		DecorationBounds: 176, 110, -5, -14
	Tooltip:
		Name: Chronosphere
	Tooltip@NoRow:
		Name: Chronosphere
	Building:
		Footprint: xxx xxx xxx xxx
		Dimensions: 4,3
	WithIdleOverlay:
		Sequence: idle-dome
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	ChronoshiftPower@chronoshift:
		OrderName: Chronoshift
		Prerequisites:
			1: gacsph
		Icons:
			1: chrono
		ChargeInterval: 6000
		Descriptions:
			1: Chronoshift
		LongDescs:
			1: Teleports a group of units across\nthe map.\n\nKills infantry.
		Ranges:
			1: 2
		Durations:
			1: -1
		AllowMultiple: true
		SelectTargetSpeechNotification: SelectTarget
		EndChargeSpeechNotification: ChronosphereReady
		LaunchSpeechNotification: ChronosphereActivated
		IncomingSpeechNotification: ChronosphereActivated
		# Those sounds don't work: OpenRA/OpenRA#10540
		# They also want to be played successive
		#SelectTargetSound: schrlo1.wav, schrlo2a.wav schrlo2b.wav, schrlo2c.wav, schrlo3.wav
		EndChargeSound: schropen.wav
		DisplayTimerStances: Ally, Neutral, Enemy
		DisplayRadarPing: True
		KillCargo: False
		SelectionCursor: chronosphere
		TargetCursor: chronosphere
		PauseOnCondition: disabled || chronodisable
	ProvidesPrerequisite@swlimit:
		Prerequisite: enoughchrono
	AnnounceOnSeen:
		Notification: ChronosphereDetected
	PlaceBuildingVariants:
		Actors: gacspb

atesla:
	Inherits: ^SupportBuilding
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@DRAIN: ^DiskDrainable
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Buildable:
		Queue: Support.Allies, Support.France
		BuildPaletteOrder: 60
		Prerequisites: gaairc, ~techlevel.3
		Description: Advanced base defense.\nCan buff at most 3 other Prism Towers nearby.\nRequires power to operate.\n  Strong vs Infantry, Vehicles\n  Weak vs Aircraft
	Valued:
		Cost: 1200
	Tooltip:
		Name: Prism Tower
	Tooltip@NoRow:
		Name: Prism Tower
	Building:
		Footprint: x
		Dimensions: 1, 1
	Selectable:
		Bounds: 44, 42, 0, -10
		DecorationBounds: 44, 102, 0, -40
	Health:
		HP: 600
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 8c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 8c0
	WithTeslaChargeAnimation:
	Armament:
		Weapon: PrismShot
		LocalOffset: 0,0,3072
	AttackTesla:
		Voice: Attack
		ReloadDelay: 45
		ChargeAudio: bpripow.wav
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	DetectCloaked:
		Range: 6c0
		RequiresCondition: !disabled
	RenderDetectionCircle:
	Power:
		Amount: -75
	AutoTarget:
	WithIdleOverlay@normal:
		Sequence: idle-normal
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	WithSpriteBody:
		PauseOnCondition: disabled || chronodisable
	WithRangeCircle:
		Range: 8c0
		Type: prismcannon
	WithRangeCircle@prism_forwarding:
		Range: 8c0
		Type: prismcannon
	ProximityExternalCondition@prism_forwarding:
		Condition: prism_forwarding
		Range: 8c0
		RequiresCondition: !disabled && !chronodisable
	ExternalCondition@prism_forwarding:
		Condition: prism_forwarding
	FirepowerMultiplier@1:
		Modifier: 200
		RequiresCondition: prism_forwarding == 1
	FirepowerMultiplier@2:
		Modifier: 300
		RequiresCondition: prism_forwarding == 2
	FirepowerMultiplier@3:
		Modifier: 400
		RequiresCondition: prism_forwarding >= 3
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || diskdrain

power:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Power Plant

refinery:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Ore Refinery

barracks:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Infantry Production

radar:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Radar

warfactory:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Vehicle Production

repairpad:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Service Depot

# Yuri's Revenge Structures
garobo:
	Inherits: ^BaseBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Allies
		BuildPaletteOrder: 80
		Prerequisites: ~disabled # gaweap
		Description: Allows production of Robot Tanks.\nRequired for Robot Tanks to function.
	Selectable:
		Bounds: 66, 58, 4, 0
		DecorationBounds: 96, 108, 10, -25
	Valued:
		Cost: 600
	Tooltip:
		Name: Robot Control Center
	Tooltip@NoRow:
		Name: Robot Control Center
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 600
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 6c0
	ProvidesPrerequisite@default:
	ProvidesPrerequisite@powered:
		Prerequisite: powered_robo
		RequiresCondition: !disabled && !chronodisable
	WithIdleOverlay@dish:
		Sequence: idle-dish
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: -50

# Custom Structures
gaapad:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Allies
		BuildPaletteOrder: 100
		Prerequisites: gaairc, ~prerequisite.airpad, ~techlevel.2
		Description: Rearms up to 3 aircraft.
	Valued:
		Cost: 250
	Tooltip:
		Name: Airpad
	Tooltip@NoRow:
		Name: Airpad
	ProvidesPrerequisite@default:
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Selectable:
		Bounds: 78, 46, 0, -06
		DecorationBounds: 128, 96, 0, -16
	Health:
		HP: 350
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 6c0
	WithIdleOverlay@bottom:
		Sequence: idle-bottom
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@dish:
		Sequence: idle-dish
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@pad:
		Sequence: idle-pad
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: -10
	Reservable:
	Exit@1:
		Facing: 224
		SpawnOffset: -512,0,0
	Exit@2:
		Facing: 224
		SpawnOffset: 512,0,0
	Exit@3:
		Facing: 224
		SpawnOffset: 0,512,0

gagatea:
	Inherits: ^Gate_A
	Buildable:
		Queue: Support.Allies, Support.France
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 20
	Tooltip:
		Name: Allied Gate
	Tooltip@NoRow:
		Name: Allied Gate
	Selectable:
		Bounds: 68, 36, 0, -6
		DecorationBounds: 118, 56, 0, -10
	LineBuildNode:
		Types: gawall
	WithGateSpriteBody:
		Type: gawall
	Replacement:
		ReplaceableTypes: AlliedGate
	PlaceBuildingVariants:
		Actors: gagateb

gagateb:
	Inherits: ^Gate_B
	-Buildable:
	Tooltip:
		Name: Allied Gate
	Tooltip@NoRow:
		Name: Allied Gate
	Selectable:
		Bounds: 68, 36, 0, -6
		DecorationBounds: 118, 56, 0, -10
	LineBuildNode:
		Types: gawall
	WithGateSpriteBody:
		Type: gawall
	Replacement:
		ReplaceableTypes: AlliedGate

gasilo:
	Inherits: ^Silo
	Buildable:
		Queue: Support.Allies, Support.France
	Selectable:
		Bounds: 70, 45, -5, 0
		DecorationBounds: 88, 55,-5, -5
	WithIdleOverlay@LIGHTS:
		RequiresCondition: !build-incomplete
		Sequence: idle-lights

gaexpn:
	Inherits: ^ExpansionNode
	Selectable:
		Bounds: 56, 40, -2, -4
		DecorationBounds: 86, 78, -2, -15

gapilb:
	Inherits: gapile
	Inherits@shape: ^2x3Shape
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3
	RallyPoint:
		Offset: 3,2
	Exit@0_n1:
		ExitCell: -1, 0
	Exit@0_2:
		ExitCell: 2, 0
	Exit@2_n1:
		ExitCell: -1, 2

garefb:
	Inherits: ^RefineryB
	Selectable:
		Bounds: 126, 70, 0, -5
		DecorationBounds: 176, 150, 0, -20
	FreeActor:
		Actor: cmin
	-WithDockedOverlay: # This causes a crash for some reason.
	ProvidesPrerequisite@garefn:
		Prerequisite: garefn

garefc:
	Inherits: ^RefineryC
	Selectable:
		Bounds: 126, 70, 0, -5
		DecorationBounds: 176, 150, 0, -20
	FreeActor:
		Actor: cmin
	ProvidesPrerequisite@garefn:
		Prerequisite: garefn

garefd:
	Inherits: ^RefineryD
	Selectable:
		Bounds: 126, 70, 0, -5
		DecorationBounds: 176, 150, 0, -20
	FreeActor:
		Actor: cmin
	ProvidesPrerequisite@garefn:
		Prerequisite: garefn

gaweab:
	Inherits: gaweap
	Inherits@shape: ^3x5Shape
	Selectable:
		Bounds: 152, 88, 10, -8
		DecorationBounds: 212, 158, 0, -28
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xxx xxx xxx xxx ===
		Dimensions: 3,5
	RallyPoint:
		Offset: 1,6
	Exit@1:
		ExitCell: 1,4

gaweac:
	Inherits: gaweap
	Selectable:
		Bounds: 152, 88, 15, -08
		DecorationBounds: 212, 158, 23, -28
	-Buildable:
	-PlaceBuildingVariants:
	-WithExitOverlay@front:
	-WithExitOverlay@top:
	-WithIdleOverlay@bib:
	-WithIdleOverlay@fan:
	Building:
		Footprint: =xxxx =xxxx =xxxx
	RallyPoint:
		Offset: -2,1
	Exit@1:
		ExitCell: 0,1

gawead:
	Inherits: gaweab
	-WithExitOverlay@front:
	-WithExitOverlay@top:
	-WithIdleOverlay@bib:
	-WithIdleOverlay@fan:
	Building:
		Footprint: === xxx xxx xxx xxx
	RallyPoint:
		Offset: 1,-2
	Exit@1:
		ExitCell: 1,0

gaairb:
	Inherits: gaairc
	Inherits@shape: ^2x3Shape
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3
	RallyPoint:
		Offset: 2,1
	Exit@1:
		SpawnOffset: -1024,512,0
	Exit@2:
		SpawnOffset: -512,1024,0
	Exit@3:
		SpawnOffset: 512,512,0
	Exit@4:
		SpawnOffset: -512,-512,0

gatecb:
	Inherits: gatech
	Inherits@shape: ^2x3Shape
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3

gacspb:
	Inherits: gacsph
	Inherits@shape: ^3x4Shape
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xxx xxx xxx xxx
		Dimensions: 3,4
	ChronoshiftPower@chronoshift:
		OrderName: ChronoshiftB
		Prerequisites:
			1: gacspb
