yacnst:
	Inherits: ^ConstructionYard
	ProvidesPrerequisite@yuri:
		Prerequisite: structures.yuri
	Production:
		Produces: Building.Yuri, Support.Yuri
	ProductionQueue@Building:
		Type: Building.Yuri
	ProductionQueue@Support:
		Type: Support.Yuri
	Transforms:
		IntoActor: pcv
	ProductionBar@Building:
		ProductionType: Building.Yuri
	ProductionBar@Support:
		ProductionType: Support.Yuri
	WithIdleOverlay@top:
		Sequence: idle-top
		RequiresCondition: !build-incomplete
	WithIdleOverlay@normal:
		Sequence: idle-normal
		RequiresCondition: !build-incomplete
	WithBuildingPlacedAnimation:
		RequiresCondition: !build-incomplete

yapowr:
	Inherits: ^BaseBuilding
	Inherits@DRAIN: ^DiskDrainable
	Inherits@MC: ^MindControllableBuilding
	Inherits@POWEROUTAGE: ^DisabledByPowerOutage
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Yuri
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 10
		Description: Provides power for other structures.\nCan be occupied with up to 5 infantry for 50 more power each.
	Selectable:
		Bounds: 96, 128, 0, -36
	Valued:
		Cost: 500
	Tooltip:
		Name: Bio Reactor
	Tooltip@NoRow:
		Name: Bio Reactor
	ProvidesPrerequisite:
		Prerequisite: power
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 500
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 4c0
	WithIdleOverlay@empty:
		Sequence: empty
		PauseOnCondition: chronodisable
		RequiresCondition: !loaded && !build-incomplete
	WithIdleOverlay@loaded:
		Sequence: loaded
		PauseOnCondition: chronodisable
		RequiresCondition: loaded && !build-incomplete
	WithIdleOverlay@lights:
		Sequence: idle-lights
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Power@0:
		Amount: 150
		RequiresCondition: !chronodisable && !forceshieldnopower && !diskdrain && !power-outage
	Power@1:
		Amount: 50
		RequiresCondition: !chronodisable && !forceshieldnopower && !diskdrain && !power-outage && loaded >= 1
	Power@2:
		Amount: 50
		RequiresCondition: !chronodisable && !forceshieldnopower && !diskdrain && !power-outage && loaded >= 2
	Power@3:
		Amount: 50
		RequiresCondition: !chronodisable && !forceshieldnopower && !diskdrain && !power-outage && loaded >= 3
	Power@4:
		Amount: 50
		RequiresCondition: !chronodisable && !forceshieldnopower && !diskdrain && !power-outage && loaded >= 4
	Power@5:
		Amount: 50
		RequiresCondition: !chronodisable && !forceshieldnopower && !diskdrain && !power-outage && loaded >= 5
	GrantCondition@IDISABLE:
		RequiresCondition: power-outage || diskdrain
	GrantConditionOnPrerequisite@forceshield:
		Condition: forceshieldnopower
		Prerequisites: forceshield
	Cargo:
		Types: Infantry, Garrisoner
		MaxWeight: 5
		PipCount: 5
		EjectOnDeath: true
		LoadedCondition: loaded
	ScalePowerWithHealth:
	SoundOnDamageTransition:
		DestroyedSounds: bpowdiea.wav, bpowdieb.wav
	PowerTooltip:
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure, SpyInfiltrate

yabrck:
	Inherits: ^Barracks
	Inherits@shape: ^2x3Shape
	Selectable:
		Bounds: 120, 132, -16, -40
	Buildable:
		Queue: Building.Yuri
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3
	Exit@1:
		SpawnOffset: 724,362,0
		ExitCell: 2,2
		Priority: 2
	Exit@2:
		SpawnOffset: 724,362,0
		ExitCell: 2,1
		Priority: 2
	Exit@fallback1:
		SpawnOffset: -362,1086,0
		ExitCell: 2,3
	Exit@fallback2:
		SpawnOffset: -362,1086,0
		ExitCell: 1,3
	Exit@fallback3:
		SpawnOffset: -1086,362,0
		ExitCell: 0,3
	Exit@fallback4:
		SpawnOffset: -1086,362,0
		ExitCell: -1,3
	Exit@fallback5:
		SpawnOffset: -1086,362,0
		ExitCell: -1,2
	Exit@fallback6:
		SpawnOffset: -362,-362,0
		ExitCell: -1,1
	Exit@fallback7:
		SpawnOffset: 362,-1086,0
		ExitCell: -1,0
	Exit@fallback8:
		SpawnOffset: 362,-1086,0
		ExitCell: -1,-1
	Exit@fallback9:
		SpawnOffset: 362,-1086,0
		ExitCell: 0,-1
	Exit@fallback10:
		SpawnOffset: 1086,-362,0
		ExitCell: 1,-1
	Exit@fallback11:
		SpawnOffset: 1086,-362,0
		ExitCell: 2,-1
	Exit@fallback12:
		SpawnOffset: 724,362,0
		ExitCell: 2,0
	Production:
		Produces: Infantry.Yuri, Infantry.Moon
	ProductionQueue:
		Type: Infantry.Yuri
		Factions: america, germany, england, france, korea, cuba, iraq, libya, russia, vietnam, psicorps, psinepal, psisouth, psitrans
	ProductionQueue@Moon:
		Type: Infantry.Moon
		Factions: psimoon
		Group: Infantry
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Infantry.Yuri
	ProductionBar@Moon:
		ProductionType: Infantry.Moon
	RallyPoint:
		Path: 2,1
	ProvidesPrerequisite@yabrck:
		Prerequisite: yabrck
	PlaceBuildingVariants:
		Actors: yabrcb

yarefn:
	Inherits: ^BaseBuilding
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@DISK: ^DiskStealable
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 30
		Prerequisites: ~disabled # power
		Description: Gathers and processes ore.\nComes with 2 slaves.
	Selectable:
		Class: yarefn
		Bounds: 70, 50, 0, -20
	Valued:
		Cost: 1600
	Tooltip:
		Name: Slave Miner
	Tooltip@NoRow:
		Name: Slave Miner
	Health:
		HP: 1500
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	RevealOnDeath:
		Radius: 3c0
	ProvidesPrerequisite@yarefn:
		Prerequisite: yarefn
	ProvidesPrerequisite@psirefn:
		Prerequisite: psirefn
	ProvidesPrerequisite@refinery:
		Prerequisite: refinery
	Building:
		Footprint: xx x=
		Dimensions: 2,2
	Refinery:
		DockOffset: 1,1
		ShowTicks: True
		TickLifetime: 30
		TickVelocity: 1
		TickRate: 10
		DockAngle: 160
		UseStorage: true
	Production:
		Produces: Infantry.Slave
	ProductionQueue:
		Type: Infantry.Slave
		Group: Infantry
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Infantry.Slave
	Exit@1:
		SpawnOffset: 0,512,0
		ExitCell: 2, 1
	Exit@2:
		SpawnOffset: 0,512,0
		ExitCell: 1, 2
	-GivesBuildableArea:
	Transforms:
		Facing: 224
		IntoActor: smin
		DeployCursor: undeploy
		Voice: Undeploy
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	TransformsIntoMobile:
		RequiresCondition: !build-incomplete && !chronodisable
		Locomotor: tracked
		Voice: Move
		RequiresForceMove: true
	TransformsIntoRepairable:
		RequiresCondition: !build-incomplete && !chronodisable
		RepairActors: gadept, nadept, nadepb, yadept, yadepb, caoutp
		Voice: Move
		RequiresForceMove: true
	TransformsIntoPassenger:
		RequiresCondition: !build-incomplete && !chronodisable
		CargoType: Vehicle
		Voice: Move
		RequiresForceMove: true
	TransferTimedExternalConditionOnTransform@INVULNERABILITY:
		Condition: invulnerability
	TransferTimedExternalConditionOnTransform@INVISIBILITY:
		Condition: invisibility
	ExternalCondition@INVISIBILITY:
		Condition: invisibility
	InfiltrateForCash:
		Percentage: 50
		Notification: CreditsStolen
		Minimum: 500
	WithIdleOverlay@processing:
		Sequence: idle-processing
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Turreted:
		TurnSpeed: 5
	Armament@primary:
		Weapon: 20mmrapid
		LocalOffset: 640,0,384
	#	RequiresCondition: !rank-elite
	# Armament@elite:
	#	Weapon: 20mmrapidE
	#	LocalOffset: 640,0,384
	#	RequiresCondition: rank-elite
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	RenderSprites:
		Image: yarefn
	RenderVoxels:
		Image: smin
		Scale: 11.7
		LightYaw: 800
		LightPitch: 150
		LightAmbientColor: -0.5,-0.5,-0.5
		LightDiffuseColor: 1.3,1.3,1.3
	WithVoxelTurret:
		RequiresCondition: !build-incomplete
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure, SpyInfiltrate
	Voiced:
		VoiceSet: SlaveMinerVoice
	StoresResources:
		PipColor: Yellow
		PipCount: 10
		Capacity: 1000
	Explodes:
		RequiresCondition: !spawn-ore
	Explodes@Ore:
		Type: Footprint
		Weapon: RefineryExplode
		RequiresCondition: spawn-ore
	GrantConditionOnPlayerResources:
		Condition: spawn-ore
	GpsDotAS:
		Sequence: Harvester

yarfn2:
	Inherits: ^Refinery
	Buildable:
		Queue: Building.Yuri
	ProvidesPrerequisite@psirefn:
		Prerequisite: psirefn
	Selectable:
		Bounds: 126, 70, -10, -20
		DecorationBounds: 170, 150, -6, -33
	FreeActor:
		Actor: gmin
	-WithDockedOverlay:
	PlaceBuildingVariants:
		Actors: yarfnb, yarfnc, yarfnd

yaweap:
	Inherits: ^WarFactory
	Buildable:
		Queue: Building.Yuri
	ProvidesPrerequisite@yaweap:
		Prerequisite: yaweap
	Production:
		Produces: Vehicle.Yuri, Vehicle.Psi, Vehicle.Trans
	ProductionQueue:
		Type: Vehicle.Yuri
		Factions: america, germany, england, france, korea, cuba, iraq, libya, russia, vietnam, psinepal, psisouth, psimoon
	ProductionQueue@Psi:
		Type: Vehicle.Psi
		Factions: psicorps
		Group: Vehicle
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@Trans:
		Type: Vehicle.Trans
		Factions: psitrans
		Group: Vehicle
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Vehicle.Yuri
	ProductionBar@Psi:
		ProductionType: Vehicle.Psi
	ProductionBar@Trans:
		ProductionType: Vehicle.Trans
	WithIdleOverlay@lights:
		Sequence: idle-lights
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	PlaceBuildingVariants:
		Actors: yaweab, yaweac, yawead

yayard:
	Inherits: ^Shipyard
	Tooltip:
		Name: Submarine Pen
	Tooltip@NoRow:
		Name: Submarine Pen
	Buildable:
		Queue: Building.Yuri
	Production:
		Produces: Ship.Yuri
	ProductionQueue:
		Type: Ship.Yuri
	ProductionBar:
		ProductionType: Ship.Yuri

yadept:
	Inherits: ^ServiceDepot
	Inherits@shape: ^4x3Shape
	Buildable:
		Queue: Building.Yuri
		Prerequisites: yaweap, ~techlevel.1
		Description: Repairs vehicles and removes Terror Drones for a price.\nCan be rotated.
	Selectable:
		Bounds: 104, 55, -12, -15
		DecorationBounds: 156, 150, 0, -38
	ProvidesPrerequisite@default:
		Prerequisite: yadept
	Building:
		Footprint: x+++ x+++ x+++
		Dimensions: 4,3
	RallyPoint:
		Path: 4,1
	WithIdleOverlay@normal:
		Sequence: idle-normal
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	PlaceBuildingVariants:
		Actors: yadepb

yagrnd:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^3x3Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 110
		Prerequisites: yaweap, ~prerequisite.grinder, ~techlevel.1
		Description: Converts Infantry and Vehicles back to credits.
	Selectable:
		Bounds: 154, 127, 0, -22
	Health:
		HP: 900
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 8c0
	Valued:
		Cost: 600
	Tooltip:
		Name: Grinder
	Tooltip@NoRow:
		Name: Grinder
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	ProvidesPrerequisite@default:
	ProvidesPrerequisite@repairpad:
		Prerequisite: repairpad
	AcceptsDeliveredCash:
	WithAcceptDeliveredCashAnimation:
		Sequence: grind
	WithAcceptDeliveredCashSound:
		Sound: bgrinda.wav
	Power:
		Amount: -50

yadome:
	Inherits: ^BaseBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 60
		Prerequisites: power, psirefn, ~techlevel.2
		Description: Provides radar
	Valued:
		Cost: 1500
	Tooltip:
		Name: Radar Dome
	Tooltip@NoRow:
		Name: Radar Dome
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Selectable:
		Bounds: 128, 140, 0, -40
	Health:
		HP: 1000
	Armor:
		Type: Wood
	ProvidesPrerequisite@default:
	ProvidesPrerequisite@psicorps:
		Prerequisite: radar.psicorps
		Factions: psicorps
	ProvidesPrerequisite@psinepal:
		Prerequisite: radar.psinepal
		Factions: psinepal
	ProvidesPrerequisite@psisouth:
		Prerequisite: radar.psisouth
		Factions: psisouth
	ProvidesPrerequisite@psitrans:
		Prerequisite: radar.psitrans
		Factions: psitrans
	ProvidesPrerequisite@psimoon:
		Prerequisite: radar.psimoon
		Factions: psimoon
	ProvidesPrerequisite:
		Prerequisite: radar
	ExternalCondition@disableradar:
		Condition: disableradar
	ProvidesRadar:
		RequiresCondition: !disabled && !chronodisable && !disableradar
	RevealsShroud:
		Range: 10c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 10c0
	SupportPowerChargeBar:
	DetonateWeaponPower@ambush:
		OrderName: LazarusHologramArmy
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.psinepal
		Icons:
			1: xxicon
		ChargeInterval: 4500
		Descriptions:
			1: Hologram Army
		LongDescs:
			1: Spawns a large group of hologram infantry and vehicles\nanywhere on the map.\n\nHolograms stay for 20 seconds.
		SelectTargetSpeechNotification: SelectTarget
		Weapons:
			1: HologramSpawner
		ActivationSequence:
	WithIdleOverlay@light:
		Sequence: idle-light
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@panels:
		Sequence: idle-panels
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure, SpyInfiltrate
	InfiltrateForExploration:
		Types: SpyInfiltrate
	Power:
		Amount: -75

yadisk:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^3x3Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 100
		Prerequisites: yadome, ~techlevel.2
		Description: Produces Psi-Crops aircraft.
	Selectable:
		Bounds: 104, 48, 2, -6
		DecorationBounds: 144, 135, 0, -35
	Valued:
		Cost: 500
	Tooltip:
		Name: Disc Pad
	Tooltip@NoRow:
		Name: Disc Pad
	ProvidesPrerequisite@default:
	Building:
		Dimensions: 3,3
		Footprint: xxx xxx xxx
	Health:
		HP: 750
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	Armor:
		Type: Wood
	Reservable:
	RallyPoint:
		Path: 3,1
		Palette: mouse
		IsPlayerPalette: false
	Exit@1:
		Facing: 160
		ExitCell: 1,1
		SpawnOffset: 0,0,0
	GrantExternalConditionToProduced:
		Condition: produced
	Production:
		Produces: Aircraft.Yuri
		PauseOnCondition: chronodisable
	ProductionQueue:
		Type: Aircraft.Yuri
		Group: Aircraft
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Aircraft.Yuri
	Power:
		Amount: -50
	-WithMakeAnimation:
	Capturable:
		RequiresCondition: !invulnerability
	Sellable:
		RequiresCondition: !chronodisable
	RenderSprites:
		Image: yarock

yatech:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^3x2Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 90
		Prerequisites: yadome, ~techlevel.3
		Description: Allows deployment of advanced units.\nCan be rotated.
	Selectable:
		Bounds: 122, 216, 0, -81
	Valued:
		Cost: 2000
	Tooltip:
		Name: Battle Lab
	Tooltip@NoRow:
		Name: Battle Lab
	ProvidesPrerequisite@yatech:
		Prerequisite: yatech
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	Health:
		HP: 500
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	WithIdleOverlay@lift:
		Sequence: idle-lift
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: -100
	InfiltrateForSupportPower:
		Types: SpyInfiltrate
		Proxy: yuri.tech.infiltrated
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure, SpyInfiltrate
	PlaceBuildingVariants:
		Actors: yatecb

yapsis:
	Inherits: ^BaseBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 120
		Prerequisites: yatech, ~techlevel.4
		Description: Detects enemy units and structures.
	Valued:
		Cost: 1000
	Tooltip:
		Name: Psychic Sensor
	Tooltip@NoRow:
		Name: Psychic Sensor
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Selectable:
		Bounds: 82, 150, -1, -55
	Health:
		HP: 500
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	GpsASProvider:
		RequiresCondition: !disabled && !build-incomplete && !chronodisable
	RenderDetectionCircle:
	DetectCloaked:
		CloakTypes: Cloak, Underwater
		Range: 25c0
	WithIdleOverlay@spin:
		Sequence: idle-spin
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: -100

yaclon:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 130
		Prerequisites: yatech, ~techlevel.4
		Description: Clones most trained infantry.\nMaximum 1 can be built.
		BuildLimit: 1
	Valued:
		Cost: 2000
	Tooltip:
		Name: Cloning Vats
	Tooltip@NoRow:
		Name: Cloning Vats
	Building:
		Footprint: xx xx
		Dimensions: 2, 2
	Selectable:
		Bounds: 108, 134, 0, -48
	Health:
		HP: 750
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	Power:
		Amount: -200
	-Capturable:
	-CaptureNotification:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-GrantConditionOnPrerequisite@INSTANTCAPTURE:
	ExitsDebugOverlay:
	Exit@1:
		SpawnOffset: -640,640,0
		ExitCell: 1,2
		Priority: 2
	Exit@2:
		SpawnOffset: -640,640,0
		ExitCell: 0,2
		Priority: 2
	Exit@fallback1:
		SpawnOffset: 0,724,0
		ExitCell: 2,2
	Exit@fallback2:
		SpawnOffset: 0,724,0
		ExitCell: 2,1
	Exit@fallback3:
		SpawnOffset: 724,0,0
		ExitCell: 2,0
	Exit@fallback4:
		SpawnOffset: 724,0,0
		ExitCell: 2,-1
	Exit@fallback5:
		SpawnOffset: 724,0,0
		ExitCell: 1,-1
	Exit@fallback6:
		SpawnOffset: 0,-724,0
		ExitCell: 0,-1
	Exit@fallback7:
		SpawnOffset: 0,-724,0
		ExitCell: -1,-1
	Exit@fallback8:
		SpawnOffset: 0,-724,0
		ExitCell: -1,0
	Exit@fallback9:
		SpawnOffset: -724,0,0
		ExitCell: -1,1
	Exit@fallback10:
		SpawnOffset: -724,0,0
		ExitCell: -1,2
	WithSpriteBody:
		PauseOnCondition: chronodisable
	Production:
		Produces: Infantry.Allies, Infantry.USA, Infantry.UK, Infantry.Soviets, Infantry.Iraq, Infantry.Cuba, Infantry.Yuri, Infantry.Moon
	RallyPoint:
		Path: 3,3
		Palette: mouse
		IsPlayerPalette: false
	ClonesProducedUnits:
		CloneableTypes: Infantry
		ProductionTypes: Infantry.Allies, Infantry.USA, Infantry.UK, Infantry.Soviets, Infantry.Iraq, Infantry.Cuba, Infantry.Yuri, Infantry.Moon

yawall:
	Inherits: ^Wall
	Buildable:
		Queue: Support.Yuri
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 10
		Description: Heavy wall capable of blocking units and projectiles.
	Tooltip:
		Name: Citadel Wall
	Tooltip@NoRow:
		Name: Citadel Wall
	LineBuild:
		NodeTypes: yawall
	LineBuildNode:
		Types: yawall
	WithWallSpriteBody:
		Type: yawall
	Replaceable:
		Types: YuriGate

yaggun:
	Inherits: ^VoxelLighting
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@DRAIN: ^DiskDrainable
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Buildable:
		Queue: Support.Yuri
		BuildPaletteOrder: 40
		Prerequisites: yabrck, ~techlevel.1
		Description: Automated anti-infantry and anti-air defense.
	Health:
		HP: 600
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 8c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 8c0
	Selectable:
		Bounds: 53, 56, 0, -25
	Building:
		Footprint: x
		Dimensions: 1, 1
	Valued:
		Cost: 900
	Tooltip:
		Name: Gatling Cannon
	Tooltip@NoRow:
		Name: Gatling Cannon
	Turreted:
		TurnSpeed: 10
		InitialFacing: 224
		PreviewFacing: 224
		Offset: -512,0,480
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Armament@ag-0:
		Weapon: AGGattCann
		LocalOffset: 768,240,1024, 768,-240,1024
		RequiresCondition: !gatling
		MuzzleSequence: muzzle
	Armament@ag-1:
		Weapon: AGGattCann2
		LocalOffset: 768,240,1024, 768,-240,1024
		RequiresCondition: gatling == 1
		MuzzleSequence: muzzle-1
	Armament@ag-2:
		Weapon: AGGattCann3
		LocalOffset: 768,240,1024, 768,-240,1024
		RequiresCondition: gatling >= 2
		MuzzleSequence: muzzle-2
	Armament@aa-0:
		Weapon: AAGattCann
		LocalOffset: 768,240,1024, 768,-240,1024
		RequiresCondition: !gatling
		MuzzleSequence: muzzle
	Armament@aa-1:
		Weapon: AAGattCann2
		LocalOffset: 768,240,1024, 768,-240,1024
		RequiresCondition: gatling == 1
		MuzzleSequence: muzzle-1
	Armament@aa-2:
		Weapon: AAGattCann3
		LocalOffset: 640,240,1024, 640,-240,1024
		RequiresCondition: gatling >= 2
		MuzzleSequence: muzzle-2
	GrantConditionOnAttack:
		Condition: gatling
		RequiredShotsPerInstance: 16
		MaximumInstances: 2
		RevokeDelay: 25
		RevokeAll: false
		IsCyclic: false
		RevokeOnNewTarget: false
	BodyOrientation:
		QuantizedFacings: 16
	RenderVoxels:
		Scale: 18
	WithMuzzleOverlay:
	WithVoxelTurret:
		RequiresCondition: !build-incomplete
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || diskdrain
	WithRangeCircle:
		Range: 5c0
		Type: pillbox
	WithRangeCircle@AA:
		Range: 12c0
		Type: aa
	AutoTarget:
	Power:
		Amount: -50

natbnk:
	Inherits: ^SupportBuilding
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Support.Yuri
		BuildPaletteOrder: 50
		Prerequisites: yaweap, ~techlevel.1
		Description: Static defense with fireports for a vehicle to garrison.\n\nProvides increased firepower, fire speed and range to the vehicle.
	Valued:
		Cost: 400
	Tooltip:
		Name: Tank Bunker
	Tooltip@NoRow:
		Name: Tank Bunker
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Selectable:
		Bounds: 64, 50, 0, -5
		DecorationBounds: 94, 94, 0, -10
	Health:
		HP: 1000
	Armor:
		Type: Steel
	Cargo:
		Types: GarrisonerVehicle
		MaxWeight: 3
		PipCount: 3
		EjectOnDeath: true
		LoadedCondition: loaded
	WithCargoSounds:
		EnterSound: btanupa.wav
		ExitSound: btandowa.wav
	-SpawnActorsOnSell@allies:
	-SpawnActorsOnSell@soviets:
	WithSpriteBody:
	WithIdleOverlay@Garrisoned:
		Sequence: idle-garrisoned
		RequiresCondition: loaded
	AttackGarrisoned:
		PortOffsets: 768,0,1024, 448,-682,1024, -448,-682,1024, -768,0,1024, -448,682,1024, 448,682,1024
		PortYaws: 0, 176, 341, 512, 682, 853
		PortCones: 88, 88, 88, 88, 88, 88
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0

yapsyt:
	Inherits: ^SupportBuilding
	Inherits@DRAIN: ^DiskDrainable
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Buildable:
		Queue: Support.Yuri
		BuildPaletteOrder: 60
		Prerequisites: yadome
		Description: Tower capable of mind controlling up to 3 enemy units.\nRequires power to operate.
	Selectable:
		Bounds: 69, 150, 0, -74
	Health:
		HP: 600
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 8c0
	Valued:
		Cost: 1500
	Tooltip:
		Name: Psychic Tower
	Tooltip@NoRow:
		Name: Psychic Tower
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Turreted:
		TurnSpeed: 225
	WithIdleOverlay@top:
		Sequence: idle-top
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: -100
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure
	Armament:
		Weapon: TowerMindControl
		MuzzleSequence: muzzle
		LocalOffset: 0,0,960
	WithMuzzleOverlay:
	MindController:
		Capacity: 3
		ControllingCondition: controlling
		Sounds: iyurat1a.wav
		RequiresCondition: !disabled && !chronodisable
	WithMindControlArc:
		UsePlayerColor: true
		Offset: 0,0,960
	AutoTarget:
	AutoTargetPriority@DEFAULT:
		ValidTargets: MindControl
		RequiresCondition: controlling >= 3
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || diskdrain

yasgen:
	Inherits: ^SupportBuilding
	Inherits@DRAIN: ^DiskDrainable
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@MC: ^MindControllableBuilding
	Valued:
		Cost: 1000
	Tooltip:
		Name: Stealth Generator
	Tooltip@NoRow:
		Name: Stealth Generator
	Buildable:
		Queue: Support.Yuri
		BuildPaletteOrder: 80
		Prerequisites: yatech, ~techlevel.3
		Description: Makes nearby units and structures invisibile while not firing.\nRequires power to operate.
	Selectable:
		Bounds: 50, 44, -1, -5
		DecorationBounds: 50, 84, -1, -30
	Health:
		HP: 600
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	Capturable:
		Types: building
		RequiresCondition: !build-incomplete
	CaptureNotification:
	ProximityExternalCondition@INVISIBILITY-GENERATOR:
		Condition: invisibility-generator
		Range: 9c0
		RequiresCondition: !disabled
	WithRangeCircle:
		Range: 9c0
		Type: invisibility
		RequiresCondition: !disabled
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure
	WithSpriteBody:
		PauseOnCondition: disabled || chronodisable
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || diskdrain
	Power:
		Amount: -100
	MustBeDestroyed:
		RequiredForShortGame: false
	-Cloak@stealth-generator:
	-ExternalCondition@INVISIBILITY-GENERATOR:
	GpsDotAS:
		Sequence: Structure

yagntc:
	Inherits: ^SecondarySuperWeapon
	Buildable:
		Queue: Support.Yuri
		Prerequisites: yatech, !enoughlazarus, ~techlevel.5
		Description: Makes units invisible.
	Selectable:
		Bounds: 160, 142, 0, -34
	Tooltip:
		Name: Lazarus Shield Generator
	Tooltip@NoRow:
		Name: Lazarus Shield Generator
	GrantExternalConditionPower@LAZARUSSHIELD:
		Icons:
			1: invis
		Prerequisites:
			1: yagntc
		# Cursor: iron-curtain
		ChargeInterval: 6000
		Descriptions:
			1: Invisibility
		LongDescs:
			1: Makes a group of units invisibile\nunless they are firing.\n\nKills infantry.
		AllowMultiple: true
		Durations:
			1: -1
		Conditions:
			1: invisibility
		Ranges:
			1: 2
		ValidStances: Ally, Neutral, Enemy
		SelectTargetSpeechNotification: SelectTarget
		# EndChargeSpeechNotification: IronCurtainReady
		# LaunchSpeechNotification: IronCurtainActivated
		# IncomingSpeechNotification: IronCurtainActivated
		EndChargeSound: sgenopen.wav
		OnFireSound: slazarus.wav
		DisplayTimerStances: Ally, Neutral, Enemy
		DisplayRadarPing: True
		PauseOnCondition: disabled || chronodisable
	WithIdleOverlay@top:
		Sequence: idle-top
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@swlimit:
		Prerequisite: enoughlazarus
	AnnounceOnSeen:
		Notification: GeneticMutatorDetected # LazarusShieldDetected

yappet:
	Inherits: ^PrimarySuperWeapon
	Buildable:
		Queue: Support.Yuri
		Prerequisites: yatech, !enoughdominator, ~techlevel.5
		Description: Release powerful energy that damages structures and mind controls units.\nRequires power to operate.\n  Special Ability: Psychic Domination
	Selectable:
		Bounds: 131, 152, 0, -40
	Tooltip:
		Name: Psychic Dominator
	Tooltip@NoRow:
		Name: Psychic Dominator
	DetonateWeaponPower:
		OrderName: PsiPsychicDomination
		PauseOnCondition: disabled || chronodisable
		CameraRange: 8c0
		CameraRemoveDelay: 100
		SpawnCameraAtGround: true
		Prerequisites:
			1: yappet
		Icons:
			1: domination
		ChargeInterval: 9000
		Descriptions:
			1: Psychic Domination
		LongDescs:
			1: Release powerful energy that damages structures and mind controls units.\n\nCan be applied on ally units to\nmake them immune to mind control.
		SelectTargetSpeechNotification: SelectTarget
		Weapons:
			1: PsychicDomination
		ActivationSequence:
		DisplayTimerStances: Ally, Neutral, Enemy
		DisplayRadarPing: True
	ProvidesPrerequisite@swlimit:
		Prerequisite: enoughdominator
	AnnounceOnSeen:
		Notification: PsychicDominatorDetected

yacomd:
	Inherits: ^CivBuilding
	Inherits@shape: ^4x4Shape
	Tooltip:
		Name: Yuri's Command Center
	Tooltip@NoRow:
		Name: Yuri's Command Center
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 8c0
	Health:
		HP: 1000
	Building:
		Dimensions: 4,4
		Footprint: xxxx xxxx xxxx xxxx
	SpawnActorOnDeath:
		Actor: yacomd.rubble

yacomd.rubble:
	Inherits: ^Rubble
	Building:
		Dimensions: 4,4
		Footprint: ____ ____ ____ ____
	RenderSprites:
		Image: yacomd

yapppt:
	Inherits: ^CivBuilding
	Inherits@shape: ^3x3Shape
	Tooltip:
		Name: Psychic Dominator
	Tooltip@NoRow:
		Name: Psychic Dominator
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	Health:
		HP: 1000
	Building:
		Dimensions: 3,3
		Footprint: xxx xxx xxx

yarock:
	Inherits: ^CivBuilding
	Inherits@shape: ^3x3Shape
	Tooltip:
		Name: Rocket Launch Pad
	Tooltip@NoRow:
		Name: Rocket Launch Pad
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	Health:
		HP: 700
	Building:
		Dimensions: 3,3
		Footprint: xxx xxx xxx

# Custom Structures
yagatea:
	Inherits: ^Gate_A
	Buildable:
		Queue: Support.Yuri
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 20
	Tooltip:
		Name: Psi-Corps Gate
	Tooltip@NoRow:
		Name: Psi-Corps Gate
	Selectable:
		Bounds: 68, 36, 0, 2
		DecorationBounds: 118, 56, 0, -3
	LineBuildNode:
		Types: yawall
	WithGateSpriteBody:
		Type: yawall
	Replacement:
		ReplaceableTypes: YuriGate
	PlaceBuildingVariants:
		Actors: yagateb

yagateb:
	Inherits: ^Gate_B
	-Buildable:
	Tooltip:
		Name: Psi-Corps Gate
	Tooltip@NoRow:
		Name: Psi-Corps Gate
	Selectable:
		Bounds: 68, 36, 0, 2
		DecorationBounds: 118, 56, 0, -3
	LineBuildNode:
		Types: yawall
	WithGateSpriteBody:
		Type: yawall
	Replacement:
		ReplaceableTypes: YuriGate

yasilo:
	Inherits: ^Silo
	Buildable:
		Queue: Support.Yuri
	-WithMakeAnimation:
	WithResourceLevelOverlay@FILLSTAGE:
		-RequiresCondition:
	Capturable:
		RequiresCondition: !invulnerability
	Sellable:
		RequiresCondition: !chronodisable

yaexpn:
	Inherits: ^ExpansionNode
	# Transforms:
	#	IntoActor: expy
	Selectable:
		Bounds: 56, 40, -2, -4
		DecorationBounds: 86, 78, -2, -15
	RenderSprites:
		Image: gaexpn

yabrcb:
	Inherits: yabrck
	Inherits@shape: ^3x2Shape
	-Buildable:
	-PlaceBuildingVariants:
	Selectable:
		Bounds: 120, 132, 16, -40
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	RallyPoint:
		Path: 1,2
	Exit@1:
		SpawnOffset: -724,362,0
		ExitCell: 2,2
		Priority: 2
	Exit@2:
		SpawnOffset: -724,362,0
		ExitCell: 1,2
		Priority: 2
	Exit@fallback1:
		SpawnOffset: -724,362,0
		ExitCell: 0,2
	Exit@fallback2:
		SpawnOffset: 384,768,0
		ExitCell: 3,1
	Exit@fallback3:
		SpawnOffset: 1086,362,0
		ExitCell: 3,0
	Exit@fallback4:
		SpawnOffset: 1086,362,0
		ExitCell: 3,-1
	Exit@fallback5:
		SpawnOffset: 1086,362,0
		ExitCell: 2,-1
	Exit@fallback6:
		SpawnOffset: 362,-362,0
		ExitCell: 1,-1
	Exit@fallback7:
		SpawnOffset: -362,-1086,0
		ExitCell: 0,-1
	Exit@fallback8:
		SpawnOffset: -362,-1086,0
		ExitCell: -1,-1
	Exit@fallback9:
		SpawnOffset: -362,-1086,0
		ExitCell: -1,0
	Exit@fallback10:
		SpawnOffset: -1086,-362,0
		ExitCell: -1,1
	Exit@fallback11:
		SpawnOffset: -1086,-362,0
		ExitCell: -1,2
	Exit@fallback12:
		SpawnOffset: 362,1086,0
		ExitCell: 3,2

yarfnb:
	Inherits: ^RefineryB
	Selectable:
		Bounds: 126, 70, 10, -20
		DecorationBounds: 170, 150, 6, -33
	FreeActor:
		Actor: gmin
	ProvidesPrerequisite@yarfn2:
		Prerequisite: yarfn2
	ProvidesPrerequisite@psirefn:
		Prerequisite: psirefn
	-WithDockedOverlay:

yarfnc:
	Inherits: ^RefineryC
	Selectable:
		Bounds: 126, 70, 10, -10
		DecorationBounds: 170, 150, -6, -33
	FreeActor:
		Actor: gmin
	ProvidesPrerequisite@yarfn2:
		Prerequisite: yarfn2
	ProvidesPrerequisite@psirefn:
		Prerequisite: psirefn

yarfnd:
	Inherits: ^RefineryD
	Selectable:
		Bounds: 126, 70, -10, -10
		DecorationBounds: 170, 150, 6, -33
	FreeActor:
		Actor: gmin
	ProvidesPrerequisite@yarfn2:
		Prerequisite: yarfn2
	ProvidesPrerequisite@psirefn:
		Prerequisite: psirefn

yaweab:
	Inherits: yaweap
	Inherits@shape: ^3x5Shape
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xxx xxx xxx xxx ===
		Dimensions: 3,5
	RallyPoint:
		Path: 1,6
	Exit@1:
		ExitCell: 1,4

yaweac:
	Inherits: yaweap
	Selectable:
		Bounds: 196, 178, 16, -48
	-Buildable:
	-PlaceBuildingVariants:
	-WithExitOverlay@front:
	-WithExitOverlay@top:
	-WithIdleOverlay@bib:
	-WithIdleOverlay@lights:
	Building:
		Footprint: =xxxx =xxxx =xxxx
	RallyPoint:
		Path: -2,1
	Exit@1:
		ExitCell: 0,1

yawead:
	Inherits: yaweab
	-WithExitOverlay@front:
	-WithExitOverlay@top:
	-WithIdleOverlay@bib:
	-WithIdleOverlay@lights:
	Building:
		Footprint: === xxx xxx xxx xxx
	RallyPoint:
		Path: 1,-2
	Exit@1:
		ExitCell: 1,0

yadepb:
	Inherits: yadept
	Inherits@shape: ^3x4Shape
	Selectable:
		Bounds: 104, 55, 12, -15
		DecorationBounds: 156, 150, 0, -38
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xxx +++ +++ +++
		Dimensions: 3,4
	RallyPoint:
		Path: 1,4

yatecb:
	Inherits: yatech
	Inherits@shape: ^2x3Shape
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3

psirefn:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Ore Refinery
