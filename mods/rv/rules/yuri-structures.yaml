yacnst:
	Inherits: ^ConstructionYard
	Buildable:
		BuildPaletteOrder: 30
	ProvidesPrerequisite@yuri:
		Prerequisite: structures.yuri
	Production:
		Produces: Building.Yuri, Support.Yuri, Support.Antarctica
	ProductionQueue@Building:
		Type: Building.Yuri
	ProductionQueue@Support:
		Type: Support.Yuri
		Factions: america, germany, england, france, korea, japan, belarus, poland, ukraine, aussie, china, turkey, canada, cuba, libya, iraq, russia, vietnam, chile, mexico, mongolia, psicorps, psinepal, psitrans, psimoon, transcaucus, turkmen, tuva, russianfed, serbia
	ProductionQueue@SupportFrance:
		Type: Support.Antarctica
		Factions: psisouth
		Group: Support
		LowPowerModifier: 200
		ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
	Transforms:
		IntoActor: pcv
	ProductionBar@Building:
		ProductionType: Building.Yuri
	ProductionBar@Support:
		ProductionType: Support.Yuri
	ProductionBar@SupportAntarctica:
		ProductionType: Support.Antarctica
	WithIdleOverlay@top:
		Sequence: idle-top
		RequiresCondition: !build-incomplete
	WithIdleOverlay@normal:
		Sequence: idle-normal
		RequiresCondition: !build-incomplete
	WithBuildingPlacedAnimation:
		RequiresCondition: !build-incomplete
	GrantConditionOnFaction@Yurigrad:
		Condition: psicorps
		Factions: psicorps
	GrantConditionOnFaction@Lazarus:
		Condition: psinepal
		Factions: psinepal
	GrantConditionOnFaction@Antarctica:
		Condition: psisouth
		Factions: psisouth
	GrantConditionOnFaction@Transylvania:
		Condition: psitrans
		Factions: psitrans
	GrantConditionOnFaction@Luna:
		Condition: psimoon
		Factions: psimoon
	WithIdleOverlay@Yurigrad:
		Sequence: flag-psicorps
		RequiresCondition: !build-incomplete && psicorps
	WithIdleOverlay@Lazarus:
		Sequence: flag-psinepal
		RequiresCondition: !build-incomplete && psinepal
	WithIdleOverlay@Antarctica:
		Sequence: flag-psisouth
		RequiresCondition: !build-incomplete && psisouth
	WithIdleOverlay@Transylvania:
		Sequence: flag-psitrans
		RequiresCondition: !build-incomplete && psitrans
	WithIdleOverlay@Luna:
		Sequence: flag-psimoon
		RequiresCondition: !build-incomplete && psimoon
	IsometricSelectable:
		DecorationHeight: 60
	Voiced:
		VoiceSet: YuriConstructionYardVoice
	RenderSprites:
		Image: yacnst

yapowr:
	Inherits: ^BaseBuilding
	Inherits@DRAIN: ^DiskDrainable
	Inherits@MC: ^MindControllableBuilding
	Inherits@POWEROUTAGE: ^DisabledByPowerOutage
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Yuri
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 10
		Description: Provides power for other structures.\nCan be occupied with up to 3 infantry for 50 more power each.
		BuildDuration: 250
		BuildDurationModifier: 100
	Valued:
		Cost: 500
	Tooltip:
		Name: Bio Reactor
	Tooltip@NoRow:
		Name: Bio Reactor
	ProvidesPrerequisite:
		Prerequisite: power
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 500
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 4c0
	WithIdleOverlay@empty:
		Sequence: empty
		PauseOnCondition: chronodisable
		RequiresCondition: !loaded && !build-incomplete
	WithIdleOverlay@loaded:
		Sequence: loaded
		PauseOnCondition: chronodisable
		RequiresCondition: loaded && !build-incomplete
	WithIdleOverlay@lights:
		Sequence: idle-lights
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Power@0:
		Amount: 150
		RequiresCondition: !chronodisable && !forceshieldnopower && !diskdrain && !power-outage
	Power@1:
		Amount: 50
		RequiresCondition: !chronodisable && !forceshieldnopower && !diskdrain && !power-outage && loaded >= 1
	Power@2:
		Amount: 50
		RequiresCondition: !chronodisable && !forceshieldnopower && !diskdrain && !power-outage && loaded >= 2
	Power@3:
		Amount: 50
		RequiresCondition: !chronodisable && !forceshieldnopower && !diskdrain && !power-outage && loaded >= 3
	Power@4:
		Amount: 100
		RequiresCondition: !chronodisable && !forceshieldnopower && !diskdrain && !power-outage && loadedvehicle
	GrantCondition@IDISABLE:
		RequiresCondition: power-outage || diskdrain
	GrantConditionOnPrerequisite@forceshield:
		Condition: forceshieldnopower
		Prerequisites: forceshield
	Cargo:
		Types: Infantry, Garrisoner, NaturalVehicle
		MaxWeight: 3
		# EjectOnDeath: true # This causes desyncs.
		LoadedCondition: loaded
		PassengerConditions:
			spider: loadedvehicle
	ScalePowerWithHealth:
	SoundOnDamageTransition:
		DestroyedSounds: bpowdiea.wav, bpowdieb.wav
	PowerTooltip:
	Explodes:
		Weapon: ReactorExplode
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure, SpyInfiltrate
	WithCargoPipsDecoration:
		FullSequence: pip-building-green
		EmptySequence: pip-building-empty
		Palette: ra
		Margin: 8, 2
		PipStride: 4, 2
		Position: BottomLeft
		RequiresSelection: true
		CustomPipSequences:
			gray: pip-building-gray
			yellow: pip-building-yellow
			blue: pip-building-blue
			red: pip-building-red
	EngineerRepairable:
		RequiresCondition: !ivanbomb && !sealC4 && !commandoC4 && !teslabomb && !toxinbomb && damaged
	GrantConditionOnDamageState@DAMAGED:
		Condition: damaged
		ValidDamageStates: Light, Medium, Heavy, Critical
	IsometricSelectable:
		DecorationHeight: 60
	Voiced:
		VoiceSet: PowerPlantVoice
		Volume: 0.8

yabrck:
	Inherits: ^Barracks
	Inherits@shape: ^2x3Shape
	Buildable:
		Queue: Building.Yuri
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3
	Exit@1:
		SpawnOffset: 724,362,0
		ExitCell: 2,2
		Priority: 2
	Exit@2:
		SpawnOffset: 724,362,0
		ExitCell: 2,1
		Priority: 2
	Exit@fallback1:
		SpawnOffset: -362,1086,0
		ExitCell: 2,3
	Exit@fallback2:
		SpawnOffset: -362,1086,0
		ExitCell: 1,3
	Exit@fallback3:
		SpawnOffset: -1086,362,0
		ExitCell: 0,3
	Exit@fallback4:
		SpawnOffset: -1086,362,0
		ExitCell: -1,3
	Exit@fallback5:
		SpawnOffset: -1086,362,0
		ExitCell: -1,2
	Exit@fallback6:
		SpawnOffset: -362,-362,0
		ExitCell: -1,1
	Exit@fallback7:
		SpawnOffset: 362,-1086,0
		ExitCell: -1,0
	Exit@fallback8:
		SpawnOffset: 362,-1086,0
		ExitCell: -1,-1
	Exit@fallback9:
		SpawnOffset: 362,-1086,0
		ExitCell: 0,-1
	Exit@fallback10:
		SpawnOffset: 1086,-362,0
		ExitCell: 1,-1
	Exit@fallback11:
		SpawnOffset: 1086,-362,0
		ExitCell: 2,-1
	Exit@fallback12:
		SpawnOffset: 724,362,0
		ExitCell: 2,0
	Production:
		Produces: Infantry.Yuri, Infantry.Moon
	ProductionQueue:
		Type: Infantry.Yuri
		Factions: america, germany, england, france, korea, japan, belarus, poland, ukraine, aussie, china, turkey, canada, cuba, iraq, libya, russia, vietnam, chile, mexico, mongolia, psicorps, psinepal, psisouth, psitrans, transcaucus, turkmen, tuva, russianfed, serbia
	ProductionQueue@Moon:
		Type: Infantry.Moon
		Factions: psimoon
		Group: Infantry
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Infantry.Yuri
	ProductionBar@Moon:
		ProductionType: Infantry.Moon
	RallyPoint:
		Path: 2,1
	ProvidesPrerequisite@yabrck:
		Prerequisite: yabrck
	ProvidesPrerequisite@mwfacref:
		Prerequisite: psirefn
	PlaceBuildingVariants:
		Actors: yabrcb
	IsometricSelectable:
		DecorationHeight: 105

yarefn:
	Inherits: ^BaseBuilding
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@DISK: ^DiskStealable
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 30
		Prerequisites: ~disabled # power
		Description: Gathers and processes ore.\nComes with 2 slaves.
		BuildDuration: 750
		BuildDurationModifier: 100
	Valued:
		Cost: 2000
	Tooltip:
		Name: Slave Miner
	Tooltip@NoRow:
		Name: Slave Miner
	Health:
		HP: 1500
	Armor:
		Type: Medium
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	RevealOnDeath:
		Radius: 3c0
	ProvidesPrerequisite@yarefn:
		Prerequisite: yarefn
	ProvidesPrerequisite@psirefn:
		Prerequisite: psirefn
	ProvidesPrerequisite@refinery:
		Prerequisite: refinery
	Building:
		Footprint: xx x+
		Dimensions: 2,2
	Refinery:
		DockOffset: 1,1
		ShowTicks: True
		TickLifetime: 30
		TickVelocity: 1
		TickRate: 10
		DockAngle: 640
		UseStorage: true
	Production:
		Produces: Infantry.Slave
	ProductionQueue:
		Type: Infantry.Slave
		Group: Infantry
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Infantry.Slave
	Exit@1:
		SpawnOffset: 0,512,0
		ExitCell: 2, 1
	Exit@2:
		SpawnOffset: 0,512,0
		ExitCell: 1, 2
	-GivesBuildableArea:
	Transforms:
		Facing: 896
		IntoActor: smin
		DeployCursor: undeploy
		Voice: Undeploy
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	TransformsIntoMobile:
		RequiresCondition: !build-incomplete && !chronodisable
		Locomotor: tracked
		Voice: Move
		RequiresForceMove: true
	TransformsIntoRepairable:
		RequiresCondition: !build-incomplete && !chronodisable
		RepairActors: gadept, nadept, nadepb, yadept, yadepb, caoutp
		Voice: Move
		RequiresForceMove: true
	TransformsIntoPassenger:
		RequiresCondition: !build-incomplete && !chronodisable
		CargoType: Vehicle
		Voice: Move
		RequiresForceMove: true
	TransferTimedExternalConditionOnTransform@INVULNERABILITY:
		Condition: invulnerability
	TransferTimedExternalConditionOnTransform@INVISIBILITY:
		Condition: invisibility
	ExternalCondition@INVISIBILITY:
		Condition: invisibility
	InfiltrateForCash:
		Percentage: 50
		InfiltratedNotification: CashStolen
		InfiltrationNotification: BuildingInfiltratedCashStolen
		Minimum: 500
	WithIdleOverlay@processing:
		Sequence: idle-processing
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Turreted:
		TurnSpeed: 20
		Offset: 640,0,0
	Armament@primary:
		Weapon: 20mmrapid
		LocalOffset: 512,0,1132
		MuzzleSequence: muzzle
		MuzzleSplitFacings: 8
	#	RequiresCondition: !rank-elite
	# Armament@elite:
	#	Weapon: 20mmrapidE
	#	LocalOffset: 512,0,1132
	#	MuzzleSequence: muzzle
	#	MuzzleSplitFacings: 8
	#	RequiresCondition: rank-elite
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	WithMuzzleOverlay:
	RenderSprites:
		Image: yarefn
	RenderVoxels:
		Image: smin
		Scale: 11.7
		LightYaw: 800
		LightPitch: 150
		LightAmbientColor: -0.5,-0.5,-0.5
		LightDiffuseColor: 1.3,1.3,1.3
	WithVoxelTurret:
		RequiresCondition: !build-incomplete
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure, SpyInfiltrate
	-SpawnActorsOnSell@allies:
	-SpawnActorsOnSell@soviets:
	-SpawnActorsOnSell@psicorps:
	Voiced:
		VoiceSet: SlaveMinerVoice
	StoresResources:
		Capacity: 1000
	Explodes:
		RequiresCondition: !spawn-ore
	Explodes@Ore:
		Type: Footprint
		Weapon: RefineryExplode
		RequiresCondition: spawn-ore
	GrantConditionOnPlayerResources:
		Condition: spawn-ore
	GpsDotAS:
		Sequence: Harvester
	WithResourceStoragePipsDecoration:
		FullSequence: pip-building-yellow
		EmptySequence: pip-building-empty
		Palette: ra
		Margin: 8, 2
		PipStride: 4, 2
		Position: BottomLeft
		RequiresSelection: true
		PipCount: 15
	IsometricSelectable:
		DecorationHeight: 45

yarfn2:
	Inherits: ^Refinery
	Buildable:
		Queue: Building.Yuri
	ProvidesPrerequisite@psirefn:
		Prerequisite: psirefn
	FreeActor:
		Actor: gmin
	-WithDockedOverlay:
	PlaceBuildingVariants:
		Actors: yarfnb, yarfnc, yarfnd
	IsometricSelectable:
		DecorationHeight: 105

yaweap:
	Inherits: ^WarFactory
	Buildable:
		Queue: Building.Yuri
	ProvidesPrerequisite@yaweap:
		Prerequisite: yaweap
	Production:
		Produces: Vehicle.Yuri, Vehicle.Psi, Vehicle.Trans
	ProductionQueue:
		Type: Vehicle.Yuri
		Factions: america, germany, england, france, korea, japan, belarus, poland, ukraine, aussie, china, turkey, canada, cuba, iraq, libya, russia, vietnam, chile, mexico, mongolia, psinepal, psisouth, psimoon, transcaucus, turkmen, tuva, russianfed, serbia
	ProductionQueue@Psi:
		Type: Vehicle.Psi
		Factions: psicorps
		Group: Vehicle
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@Trans:
		Type: Vehicle.Trans
		Factions: psitrans
		Group: Vehicle
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Vehicle.Yuri
	ProductionBar@Psi:
		ProductionType: Vehicle.Psi
	ProductionBar@Trans:
		ProductionType: Vehicle.Trans
	WithIdleOverlay@lights:
		Sequence: idle-lights
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	PlaceBuildingVariants:
		Actors: yaweab, yaweac, yawead
	IsometricSelectable:
		DecorationHeight: 75

yayard:
	Inherits: ^Shipyard
	Tooltip:
		Name: Submarine Pen
	Tooltip@NoRow:
		Name: Submarine Pen
	Buildable:
		Queue: Building.Yuri
	Production:
		Produces: Ship.Yuri
	ProductionQueue:
		Type: Ship.Yuri
	ProductionBar:
		ProductionType: Ship.Yuri
	IsometricSelectable:
		DecorationHeight: 120

yadept:
	Inherits: ^ServiceDepot
	Inherits@shape: ^4x3Shape
	Buildable:
		Queue: Building.Yuri
		Prerequisites: yaweap, ~techlevel.1
		Description: Repairs vehicles and removes Terror Drones for a price.\nCan be rotated.
	ProvidesPrerequisite@default:
		Prerequisite: yadept
	Building:
		Footprint: x+++ x+++ x+++
		Dimensions: 4,3
	RallyPoint:
		Path: 4,1
	WithIdleOverlay@normal:
		Sequence: idle-normal
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	PlaceBuildingVariants:
		Actors: yadepb
	IsometricSelectable:
		DecorationHeight: 105

yagrnd:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^3x3Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 110
		Prerequisites: yaweap, ~prerequisite.grinder, ~techlevel.1
		Description: Converts Infantry and Vehicles back to credits.
		BuildDuration: 125
		BuildDurationModifier: 100
	Health:
		HP: 900
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 8c0
	Valued:
		Cost: 600
	Tooltip:
		Name: Grinder
	Tooltip@NoRow:
		Name: Grinder
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3,3
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	ProvidesPrerequisite@default:
	ProvidesPrerequisite@repairpad:
		Prerequisite: repairpad
	AcceptsDeliveredCash:
	WithAcceptDeliveredCashAnimation:
		Sequence: grind
	WithAcceptDeliveredCashSound:
		Sound: bgrinda.wav
	Power:
		Amount: -50
	IsometricSelectable:
		DecorationHeight: 75

yadome:
	Inherits: ^BaseBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 60
		Prerequisites: power, psirefn, ~techlevel.2
		Description: Provides radar
		BuildDuration: 750
		BuildDurationModifier: 100
	Valued:
		Cost: 1500
	Tooltip:
		Name: Radar Dome
	Tooltip@NoRow:
		Name: Radar Dome
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 1000
	Armor:
		Type: Wood
	ProvidesPrerequisite@default:
	ProvidesPrerequisite@psicorps:
		Prerequisite: radar.psicorps
		Factions: psicorps
	ProvidesPrerequisite@psinepal:
		Prerequisite: radar.psinepal
		Factions: psinepal
	ProvidesPrerequisite@psisouth:
		Prerequisite: radar.psisouth
		Factions: psisouth
	ProvidesPrerequisite@psitrans:
		Prerequisite: radar.psitrans
		Factions: psitrans
	ProvidesPrerequisite@psimoon:
		Prerequisite: radar.psimoon
		Factions: psimoon
	ProvidesPrerequisite:
		Prerequisite: radar
	ExternalCondition@disableradar:
		Condition: disableradar
	ProvidesRadar:
		RequiresCondition: !disabled && !chronodisable && !disableradar
	RevealsShroud:
		Range: 10c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 10c0
	SupportPowerChargeBar:
	AirstrikePower@chaosgas:
		OrderName: YurigradChaosDrop
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.psicorps
		Icons:
			1: xxicon
		ChargeInterval: 4500
		Descriptions:
			1: Chaos Gas Drop
		LongDescs:
			1: A Cargo Plane drops a trail of Chaos\nGas anywhere on the map.
		SelectTargetSpeechNotification: SelectTarget
		UnitTypes:
			1: pdplane.chaos
		SquadSizes:
			1: 1
		QuantizedFacings: 8
		CameraActor: CAMERA
		CameraRemoveDelay: 100
		DisplayBeacon: True
		BeaconPosters:
			1: xxicon
		ArrowSequence: arrow
		ClockSequence: clock
		UseDirectionalTarget: True
		DirectionArrowAnimation: swdirection
		DirectionArrowPalette: mouse
	DetonateWeaponPower@hologram:
		OrderName: LazarusHologramArmy
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.psinepal
		Icons:
			1: xxicon
		ChargeInterval: 4500
		Descriptions:
			1: Hologram Army
		LongDescs:
			1: Spawns a large group of hologram infantry and vehicles\nanywhere on the map.\n\nHolograms stay for 20 seconds.
		SelectTargetSpeechNotification: SelectTarget
		Weapons:
			1: HologramSpawner
		ActivationSequence:
	GrantExternalConditionPower@pointdefensedrones:
		OrderName: AntarcticaPointDefenseDrones
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.psisouth
		Icons:
			1: pointdefense
		ChargeInterval: 3000
		Descriptions:
			1: Point Defense Drones
		LongDescs:
			1: Gives a group of vehicles Point Defense Drones which reduces the taken damage.\nDrones regenerate over time.
		SelectTargetSpeechNotification: SelectTarget
		Durations:
			1: -1
		Conditions:
			1: pointdefense
		Dimensions:
			1: 3,3
		Footprints:
			1: _x_ xxx _x_
	DetonateWeaponPower@mosquitoswarm:
		OrderName: TransylvaniaMosquitoSwarm
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.psitrans
		Icons:
			1: mosquito
		ChargeInterval: 6000
		Descriptions:
			1: Mosquito Swarm
		LongDescs:
			1: Spawns 3 Mosquito Platforms\nanywhere on the map.
		SelectTargetSpeechNotification: SelectTarget
		Weapons:
			1: MosquitoSpawnerSpawnerSpawner
		ActivationSequence:
	IonCannonPower@ioncanon:
		OrderName: LunarIonCannon
		# Cursor: ioncannon
		PauseOnCondition: disabled || chronodisable
		Prerequisites:
			1: radar.psimoon
		Icons:
			1: ioncannon
		Effect: dot
		WeaponDelay: 0
		ChargeInterval: 7500
		Descriptions:
			1: Ion Cannon
		LongDescs:
			1: Initiate an Ion Cannon strike.\nApplies instant damage to a small area.
		SelectTargetSpeechNotification: SelectTarget
		DisplayRadarPing: True
		CameraActor: camera
		CameraRemoveDelay: 100
		OnFireSound: ion1.aud
	WithIdleOverlay@light:
		Sequence: idle-light
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@panels:
		Sequence: idle-panels
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure, SpyInfiltrate
	InfiltrateForExploration:
		Types: SpyInfiltrate
		InfiltratedNotification: RadarSabotaged
		InfiltrationNotification: BuildingInfiltratedRadarSabotaged
	Power:
		Amount: -75
	IsometricSelectable:
		DecorationHeight: 75
	Voiced:
		VoiceSet: RadarVoice
		Volume: 0.8

yadisk:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^3x3Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 100
		Prerequisites: yadome, ~techlevel.2
		Description: Produces Psi-Corps aircraft.
		BuildDuration: 125
		BuildDurationModifier: 100
	Valued:
		Cost: 500
	Tooltip:
		Name: Disc Pad
	Tooltip@NoRow:
		Name: Disc Pad
	ProvidesPrerequisite@default:
	Building:
		Dimensions: 3,3
		Footprint: xxx xxx xxx
	Health:
		HP: 750
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	Armor:
		Type: Wood
	Reservable:
	RallyPoint:
		Path: 3,1
		Palette: mouse
		IsPlayerPalette: false
	Exit@1:
		Facing: 640
		ExitCell: 1,1
		SpawnOffset: 0,0,0
	GrantExternalConditionToProduced:
		Condition: produced
	Production:
		Produces: Aircraft.Yuri, Aircraft.Lazarus
		PauseOnCondition: chronodisable
	ProductionQueue:
		Type: Aircraft.Yuri
		Factions: america, germany, england, france, korea, japan, belarus, poland, ukraine, aussie, china, turkey, canada, cuba, iraq, libya, russia, vietnam, chile, mexico, mongolia, psicorps, psisouth, psitrans, psimoon, transcaucus, turkmen, tuva, russianfed, serbia
		Group: Aircraft
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@Lazarus:
		Type: Aircraft.Lazarus
		Factions: psinepal
		Group: Aircraft
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Aircraft.Yuri
	ProductionBar@Lazarus:
		ProductionType: Aircraft.Lazarus
	Power:
		Amount: -50
	-WithMakeAnimation:
	Capturable:
		RequiresCondition: !invulnerability
	Sellable:
		RequiresCondition: !chronodisable
	RenderSprites:
		Image: yarock
	IsometricSelectable:
		DecorationHeight: 30
	Voiced:
		VoiceSet: AirfieldVoice
		Volume: 0.8

yatech:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^3x2Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 90
		Prerequisites: yadome, ~techlevel.3
		Description: Allows deployment of advanced units.\nCan be rotated.
		BuildDuration: 1000
		BuildDurationModifier: 100
	Valued:
		Cost: 2000
	Tooltip:
		Name: Battle Lab
	Tooltip@NoRow:
		Name: Battle Lab
	ProvidesPrerequisite@yatech:
		Prerequisite: yatech
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	Health:
		HP: 750
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	WithIdleOverlay@lift:
		Sequence: idle-lift
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: -100
	InfiltrateForSupportPower:
		Types: SpyInfiltrate
		Proxy: yuri.tech.infiltrated
		InfiltratedNotification: TechnologyStolen
		InfiltrationNotification: BuildingInfiltratedTechnologyStolen
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure, SpyInfiltrate
	PlaceBuildingVariants:
		Actors: yatecb
	IsometricSelectable:
		DecorationHeight: 180
	Voiced:
		VoiceSet: TechCenterVoice
		Volume: 0.8

yapsis:
	Inherits: ^BaseBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 120
		Prerequisites: yatech, ~techlevel.4
		Description: Detects enemy units and structures.
		BuildDuration: 1000
		BuildDurationModifier: 100
	Valued:
		Cost: 4000
	Tooltip:
		Name: Psychic Sensor
	Tooltip@NoRow:
		Name: Psychic Sensor
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 500
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	GpsASProvider:
		RequiresCondition: !disabled && !build-incomplete && !chronodisable
	RenderDetectionCircle:
	DetectCloaked:
		CloakTypes: Cloak, Underwater
		Range: 25c0
	WithIdleOverlay@spin:
		Sequence: idle-spin
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: -200
	IsometricSelectable:
		DecorationHeight: 120
	Voiced:
		VoiceSet: PsychicSensorVoice
		Volume: 0.8

yaclon:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Building.Yuri
		BuildPaletteOrder: 130
		Prerequisites: yatech, ~techlevel.4
		Description: Clones most trained infantry.\nMaximum 1 can be built.
		BuildLimit: 1
		BuildDuration: 1250
		BuildDurationModifier: 100
	Valued:
		Cost: 2000
	Tooltip:
		Name: Cloning Vats
	Tooltip@NoRow:
		Name: Cloning Vats
	Building:
		Footprint: xx xx
		Dimensions: 2, 2
	Health:
		HP: 750
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	Power:
		Amount: -200
	ExitsDebugOverlay:
	Exit@1:
		SpawnOffset: -640,640,0
		ExitCell: 1,2
		Priority: 2
	Exit@2:
		SpawnOffset: -640,640,0
		ExitCell: 0,2
		Priority: 2
	Exit@fallback1:
		SpawnOffset: 0,724,0
		ExitCell: 2,2
	Exit@fallback2:
		SpawnOffset: 0,724,0
		ExitCell: 2,1
	Exit@fallback3:
		SpawnOffset: 724,0,0
		ExitCell: 2,0
	Exit@fallback4:
		SpawnOffset: 724,0,0
		ExitCell: 2,-1
	Exit@fallback5:
		SpawnOffset: 724,0,0
		ExitCell: 1,-1
	Exit@fallback6:
		SpawnOffset: 0,-724,0
		ExitCell: 0,-1
	Exit@fallback7:
		SpawnOffset: 0,-724,0
		ExitCell: -1,-1
	Exit@fallback8:
		SpawnOffset: 0,-724,0
		ExitCell: -1,0
	Exit@fallback9:
		SpawnOffset: -724,0,0
		ExitCell: -1,1
	Exit@fallback10:
		SpawnOffset: -724,0,0
		ExitCell: -1,2
	WithSpriteBody:
		PauseOnCondition: chronodisable
	Production:
		Produces: Clone.Yuri
	RallyPoint:
		Path: 3,3
		Palette: mouse
		IsPlayerPalette: false
	ClonesProducedUnits:
		CloneableTypes: Infantry
		ProductionType: Clone.Yuri
	IsometricSelectable:
		DecorationHeight: 90
	Voiced:
		VoiceSet: CloningVatsVoice
		Volume: 0.8

yawall:
	Inherits: ^Wall
	Buildable:
		Queue: Support.Yuri, Support.Antarctica
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 10
		Description: Heavy wall capable of blocking units and projectiles.
	Tooltip:
		Name: Citadel Wall
	Tooltip@NoRow:
		Name: Citadel Wall
	LineBuild:
		NodeTypes: yawall
	LineBuildNode:
		Types: yawall
	WithWallSpriteBody:
		Type: yawall
	Replaceable:
		Types: YuriGate

yaggun:
	Inherits: ^VoxelLighting
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@DRAIN: ^DiskDrainable
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Buildable:
		Queue: Support.Yuri, Support.Antarctica
		BuildPaletteOrder: 40
		Prerequisites: yabrck, ~techlevel.1
		Description: Automated anti-infantry and anti-air defense.\nCan detect cloaked units.
		BuildDuration: 375
		BuildDurationModifier: 100
	Health:
		HP: 600
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 8c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 8c0
	Building:
		Footprint: x
		Dimensions: 1, 1
	Valued:
		Cost: 800
	Tooltip:
		Name: Gatling Cannon
	Tooltip@NoRow:
		Name: Gatling Cannon
	Turreted:
		TurnSpeed: 40
		InitialFacing: 896
		Offset: -512,0,480
	AttackTurreted:
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Armament@ag-0:
		Weapon: AGGattCann
		LocalOffset: 768,240,1024, 768,-240,1024
		RequiresCondition: !gatling
		MuzzleSequence: muzzle
	Armament@ag-1:
		Weapon: AGGattCann2
		LocalOffset: 768,240,1024, 768,-240,1024
		RequiresCondition: gatling == 1
		MuzzleSequence: muzzle-1
	Armament@ag-2:
		Weapon: AGGattCann3
		LocalOffset: 768,240,1024, 768,-240,1024
		RequiresCondition: gatling >= 2
		MuzzleSequence: muzzle-2
	Armament@aa-0:
		Weapon: AAGattCann
		LocalOffset: 768,240,1024, 768,-240,1024
		RequiresCondition: !gatling
		MuzzleSequence: muzzle
	Armament@aa-1:
		Weapon: AAGattCann2
		LocalOffset: 768,240,1024, 768,-240,1024
		RequiresCondition: gatling == 1
		MuzzleSequence: muzzle-1
	Armament@aa-2:
		Weapon: AAGattCann3
		LocalOffset: 640,240,1024, 640,-240,1024
		RequiresCondition: gatling >= 2
		MuzzleSequence: muzzle-2
	GrantConditionOnAttack:
		Condition: gatling
		RequiredShotsPerInstance: 16, 32
		MaximumInstances: 2
		RevokeDelay: 25
		RevokeAll: true
		IsCyclic: false
		RevokeOnNewTarget: false
	BodyOrientation:
		QuantizedFacings: 16
	RenderVoxels:
		Scale: 18
	WithMuzzleOverlay:
	WithVoxelTurret:
		RequiresCondition: !build-incomplete
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || diskdrain
	WithRangeCircle:
		Range: 5c0
		Type: pillbox
	WithRangeCircle@AA:
		Range: 12c0
		Type: aa
	Power:
		Amount: -40
	IsometricSelectable:
		DecorationHeight: 45
	DetectCloaked:
		Range: 5c0
		RequiresCondition: !disabled
	RenderDetectionCircle:
	Voiced:
		VoiceSet: GatlingCannonVoice
		Volume: 0.8

natbnk:
	Inherits: ^SupportBuilding
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Support.Yuri, Support.Antarctica
		BuildPaletteOrder: 50
		Prerequisites: yaweap, ~techlevel.1
		Description: Static defense with fireports for a vehicle to garrison.\n\nProvides increased firepower, fire speed and range to the vehicle.
		BuildDuration: 125
		BuildDurationModifier: 100
	Valued:
		Cost: 400
	Tooltip:
		Name: Tank Bunker
	Tooltip@NoRow:
		Name: Tank Bunker
	Building:
		Footprint: xx xx
		Dimensions: 2,2
	Health:
		HP: 1000
	Armor:
		Type: Steel
	Cargo:
		Types: GarrisonerVehicle
		MaxWeight: 3
		# EjectOnDeath: true # This causes desyncs.
		LoadedCondition: loaded
	WithCargoSounds:
		EnterSound: btanupa.wav
		ExitSound: btandowa.wav
	WithCargoBuilding:
		Facing: 384
		DisplayTypes: GarrisonerVehicle
	-SpawnActorsOnSell@allies:
	-SpawnActorsOnSell@soviets:
	-SpawnActorsOnSell@psicorps:
	WithSpriteBody:
	WithIdleOverlay@Garrisoned:
		Sequence: idle-garrisoned
		RequiresCondition: loaded
	WithIdleOverlay@GarrisonedFront:
		Sequence: idle-garrisoned-front
		RequiresCondition: loaded
	Targetable@loaded:
		TargetTypes: LoadedTankBunker
		RequiresCondition: loaded
	AttackGarrisoned:
		Armaments: primary, secondary, gatling
		PortOffsets: 768,0,1024, 448,-682,1024, -448,-682,1024, -768,0,1024, -448,682,1024, 448,682,1024
		PortYaws: 0, 176, 341, 512, 682, 853
		PortCones: 88, 88, 88, 88, 88, 88
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	IsometricSelectable:
		DecorationHeight: 45

yapsyt:
	Inherits: ^SupportBuilding
	Inherits@DRAIN: ^DiskDrainable
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Buildable:
		Queue: Support.Yuri, Support.Antarctica
		BuildPaletteOrder: 60
		Prerequisites: yadome
		Description: Tower capable of mind controlling up to 3 enemy units.\nRequires power to operate.\nCan detect cloaked units.
		BuildDuration: 625
		BuildDurationModifier: 100
	Health:
		HP: 600
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 8c0
	Valued:
		Cost: 1500
	Tooltip:
		Name: Psychic Tower
	Tooltip@NoRow:
		Name: Psychic Tower
	AttackTurreted:
		Voice: Attack
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Turreted:
		TurnSpeed: 900
	WithIdleOverlay@top:
		Sequence: idle-top
		PauseOnCondition: disabled || chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: -100
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure
	Armament:
		Weapon: TowerMindControl
		MuzzleSequence: muzzle
		LocalOffset: 0,0,960
	WithMuzzleOverlay:
	MindController:
		Capacity: 3
		ControllingCondition: controlling
		Sounds: iyurat1a.wav
		RequiresCondition: !disabled && !chronodisable
	WithMindControllerPipsDecoration:
		FullSequence: pip-building-green
		EmptySequence: pip-building-empty
		Palette: ra
		Margin: 8, 2
		PipStride: 4, 2
		Position: BottomLeft
		RequiresSelection: true
	WithMindControlArc:
		UsePlayerColor: true
		Offset: 0,0,960
	AutoTarget:
	AutoTargetPriority@DEFAULT:
		ValidTargets: MindControl
		RequiresCondition: controlling < 3
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || diskdrain
	IsometricSelectable:
		DecorationHeight: 120
	DetectCloaked:
		Range: 6c0
		RequiresCondition: !disabled
	RenderDetectionCircle:

yasgen:
	Inherits: ^SupportBuilding
	Inherits@DRAIN: ^DiskDrainable
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@MC: ^MindControllableBuilding
	Valued:
		Cost: 1000
	Tooltip:
		Name: Stealth Generator
	Tooltip@NoRow:
		Name: Stealth Generator
	Buildable:
		Queue: Support.Yuri, Support.Antarctica
		BuildPaletteOrder: 80
		Prerequisites: yatech, ~techlevel.3
		Description: Makes nearby units and structures invisibile while not firing.\nRequires power to operate.
		BuildDuration: 250
		BuildDurationModifier: 100
	Health:
		HP: 600
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 6c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 6c0
	Capturable:
		Types: building
		RequiresCondition: !build-incomplete
	CaptureNotification:
	ProximityExternalCondition@INVISIBILITY-GENERATOR:
		Condition: invisibility-generator
		Range: 9c0
		RequiresCondition: !disabled
	WithRangeCircle:
		Range: 9c0
		Type: invisibility
		RequiresCondition: !disabled
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, NonGarrisonableStructure
	WithSpriteBody:
		PauseOnCondition: disabled || chronodisable
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || diskdrain
	Power:
		Amount: -100
	MustBeDestroyed:
		RequiredForShortGame: false
	-Cloak@stealth-generator:
	-ExternalCondition@INVISIBILITY-GENERATOR:
	GpsDotAS:
		Sequence: Structure
	IsometricSelectable:
		DecorationHeight: 60

yagntc:
	Inherits: ^SecondarySuperWeapon
	Buildable:
		Queue: Support.Yuri, Support.Antarctica
		Prerequisites: yatech, !enoughlazarus, ~techlevel.5
		Description: Makes units invisible.
	Tooltip:
		Name: Lazarus Shield Generator
	Tooltip@NoRow:
		Name: Lazarus Shield Generator
	GrantExternalConditionPower@LAZARUSSHIELD:
		Icons:
			1: invis
		Prerequisites:
			1: yagntc
		# Cursor: iron-curtain
		ChargeInterval: 6000
		Descriptions:
			1: Invisibility
		LongDescs:
			1: Makes a group of units invisibile\nunless they are firing.\n\nKills infantry.
		AllowMultiple: true
		Durations:
			1: -1
		Conditions:
			1: invisibility
		Dimensions:
			1: 3,3
		Footprints:
			1: xxx xxx xxx
		ValidStances: Ally, Neutral, Enemy
		SelectTargetSpeechNotification: SelectTarget
		# EndChargeSpeechNotification: IronCurtainReady
		# LaunchSpeechNotification: IronCurtainActivated
		# IncomingSpeechNotification: IronCurtainActivated
		EndChargeSound: sgenopen.wav
		OnFireSound: slazarus.wav
		DisplayTimerStances: Ally, Neutral, Enemy
		DisplayRadarPing: True
		PauseOnCondition: disabled || chronodisable
	WithIdleOverlay@top:
		Sequence: idle-top
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@swlimit:
		Prerequisite: enoughlazarus
	AnnounceOnSeen:
		Notification: GeneticMutatorDetected # LazarusShieldDetected
	IsometricSelectable:
		DecorationHeight: 120

yappet:
	Inherits: ^PrimarySuperWeapon
	Buildable:
		Queue: Support.Yuri, Support.Antarctica
		Prerequisites: yatech, !enoughdominator, ~techlevel.5
		Description: Release powerful energy that damages structures and mind controls units.\nRequires power to operate.\n  Special Ability: Psychic Domination
	Tooltip:
		Name: Psychic Dominator
	Tooltip@NoRow:
		Name: Psychic Dominator
	DetonateWeaponPower:
		OrderName: PsiPsychicDomination
		PauseOnCondition: disabled || chronodisable
		CameraRange: 8c0
		CameraRemoveDelay: 100
		SpawnCameraAtGround: true
		Prerequisites:
			1: yappet
		Icons:
			1: domination
		ChargeInterval: 9000
		Descriptions:
			1: Psychic Domination
		LongDescs:
			1: Release powerful energy that damages structures and mind controls units.\n\nCan be applied on ally units to\nmake them immune to mind control.
		SelectTargetSpeechNotification: SelectTarget
		Weapons:
			1: PsychicDomination
		ActivationSequence:
		DisplayTimerStances: Ally, Neutral, Enemy
		DisplayRadarPing: True
	ProvidesPrerequisite@swlimit:
		Prerequisite: enoughdominator
	AnnounceOnSeen:
		Notification: PsychicDominatorDetected
	IsometricSelectable:
		DecorationHeight: 75

yacomd:
	Inherits: ^CivBuilding
	Inherits@shape: ^4x4Shape
	Tooltip:
		Name: Yuri's Command Center
	Tooltip@NoRow:
		Name: Yuri's Command Center
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 8c0
	Health:
		HP: 1000
	Building:
		Dimensions: 4,4
		Footprint: xxxx xxxx xxxx xxxx
	SpawnActorOnDeath:
		Actor: yacomd.rubble
	IsometricSelectable:
		DecorationHeight: 180

yacomd.rubble:
	Inherits: ^Rubble
	Building:
		Dimensions: 4,4
		Footprint: ____ ____ ____ ____
	RenderSprites:
		Image: yacomd

yapppt:
	Inherits: ^CivBuilding
	Inherits@shape: ^3x3Shape
	Tooltip:
		Name: Psychic Dominator
	Tooltip@NoRow:
		Name: Psychic Dominator
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	Health:
		HP: 1000
	Building:
		Dimensions: 3,3
		Footprint: xxx xxx xxx
	IsometricSelectable:
		DecorationHeight: 75

yarock:
	Inherits: ^CivBuilding
	Inherits@shape: ^3x3Shape
	Tooltip:
		Name: Rocket Launch Pad
	Tooltip@NoRow:
		Name: Rocket Launch Pad
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 6c0
	Health:
		HP: 700
	Building:
		Dimensions: 3,3
		Footprint: xxx xxx xxx
	IsometricSelectable:
		DecorationHeight: 120

caeast02:
	Inherits: ^CivBuilding
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@DRAIN: ^DiskDrainable
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Tooltip:
		Name: Yuri Statue
	Tooltip@NoRow:
		Name: Yuri Statue
	Armor:
		Type: Steel
	Health:
		HP: 3000
	Building:
		Dimensions: 2,2
		Footprint: xx xx
	Armament:
		Weapon: LaserShot
		LocalOffset: 512,-256,1024, 512,256,1024
	AttackTurreted:
		PauseOnCondition: disabled || chronodisable
	Turreted:
		TurnSpeed: 12
		Offset: 0,0,3096
		InitialFacing: 640
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || diskdrain
	GrantConditionOnDamageState@DAMAGED:
		Condition: damaged
		ValidDamageStates: Heavy, Critical
	WithVoxelTurret:
		RequiresCondition: !damaged
	WithVoxelTurret@damaged:
		Sequence: turret-damaged
		RequiresCondition: damaged
	RenderVoxels:
		Image: cahead
		Scale: 1.17
		LightYaw: 800
		LightPitch: 150
		LightAmbientColor: -0.5,-0.5,-0.5
		LightDiffuseColor: 1.3,1.3,1.3
	Power:
		Amount: -100
	SpawnActorOnDeath:
		Actor: caeast02.rubble
	IsometricSelectable:
		DecorationHeight: 135

caeast02.rubble:
	Inherits: ^Rubble
	Building:
		Dimensions: 2,2
		Footprint: __ __
	RenderSprites:
		Image: caeast02

yaeast02:
	Inherits: ^VoxelLighting
	Inherits@AUTOTARGET: ^AutoTargetGround
	Inherits@DRAIN: ^DiskDrainable
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^2x2Shape
	Buildable:
		Queue: Support.Antarctica
		BuildPaletteOrder: 60
		Prerequisites: yadome, ~techlevel.2
		Description: Big defense structure armed with lasers.\nCan detect cloaked units.
		BuildDuration: 1000
		BuildDurationModifier: 100
	Health:
		HP: 1100
	Armor:
		Type: Steel
	RevealsShroud:
		Range: 8c0
	# RevealsShroudToIntelligenceOwner:
	#	Types: SatelliteScan
	#	Range: 8c0
	Building:
		Dimensions: 2,2
		Footprint: xx xx
	Valued:
		Cost: 2500
	Tooltip:
		Name: Yuri Statue
	Tooltip@NoRow:
		Name: Yuri Statue
	Turreted:
		TurnSpeed: 12
		Offset: 0,0,3096
		InitialFacing: 640
	AttackTurreted:
		PauseOnCondition: disabled || chronodisable
	Armament:
		Weapon: LaserShot
		LocalOffset: 512,-256,1024, 512,256,1024
	RenderVoxels:
		Image: cahead
		Scale: 1.17
	RenderSprites:
		Image: caeast02
	-WithMakeAnimation:
	GrantConditionOnDamageState@DAMAGED:
		Condition: damaged
		ValidDamageStates: Heavy, Critical
	WithVoxelTurret:
		RequiresCondition: !damaged
	WithVoxelTurret@damaged:
		Sequence: turret-damaged
		RequiresCondition: damaged
	GrantCondition@IDISABLE:
		RequiresCondition: lowpower || powerdown || emp || diskdrain
	WithRangeCircle:
		Range: 9c0
		Type: yuristatue
	Sellable:
		RequiresCondition: !chronodisable
	Power:
		Amount: -100
	IsometricSelectable:
		DecorationHeight: 135
	DetectCloaked:
		Range: 5c0
		RequiresCondition: !disabled
	RenderDetectionCircle:

# Custom Structures
yagatea:
	Inherits: ^Gate_A
	Buildable:
		Queue: Support.Yuri, Support.Antarctica
		Prerequisites: ~techlevel.1
		BuildPaletteOrder: 20
		BuildDuration: 125
		BuildDurationModifier: 100
	Tooltip:
		Name: Psi-Corps Gate
	Tooltip@NoRow:
		Name: Psi-Corps Gate
	LineBuildNode:
		Types: yawall
	WithGateSpriteBody:
		Type: yawall
	Replacement:
		ReplaceableTypes: YuriGate
	PlaceBuildingVariants:
		Actors: yagateb

yagateb:
	Inherits: ^Gate_B
	-Buildable:
	Tooltip:
		Name: Psi-Corps Gate
	Tooltip@NoRow:
		Name: Psi-Corps Gate
	LineBuildNode:
		Types: yawall
	WithGateSpriteBody:
		Type: yawall
	Replacement:
		ReplaceableTypes: YuriGate

yasilo:
	Inherits: ^Silo
	Buildable:
		Queue: Support.Yuri, Support.Antarctica
	-WithMakeAnimation:
	WithResourceLevelOverlay@FILLSTAGE:
		-RequiresCondition:
	Capturable:
		RequiresCondition: !invulnerability
	Sellable:
		RequiresCondition: !chronodisable

yaexpn:
	Inherits: ^ExpansionNode
	# Transforms:
	#	IntoActor: expy
	RenderSprites:
		Image: gaexpn

yabrcb:
	Inherits: yabrck
	Inherits@shape: ^3x2Shape
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xxx xxx
		Dimensions: 3,2
	RallyPoint:
		Path: 1,2
	Exit@1:
		SpawnOffset: -724,362,0
		ExitCell: 2,2
		Priority: 2
	Exit@2:
		SpawnOffset: -724,362,0
		ExitCell: 1,2
		Priority: 2
	Exit@fallback1:
		SpawnOffset: -724,362,0
		ExitCell: 0,2
	Exit@fallback2:
		SpawnOffset: 384,768,0
		ExitCell: 3,1
	Exit@fallback3:
		SpawnOffset: 1086,362,0
		ExitCell: 3,0
	Exit@fallback4:
		SpawnOffset: 1086,362,0
		ExitCell: 3,-1
	Exit@fallback5:
		SpawnOffset: 1086,362,0
		ExitCell: 2,-1
	Exit@fallback6:
		SpawnOffset: 362,-362,0
		ExitCell: 1,-1
	Exit@fallback7:
		SpawnOffset: -362,-1086,0
		ExitCell: 0,-1
	Exit@fallback8:
		SpawnOffset: -362,-1086,0
		ExitCell: -1,-1
	Exit@fallback9:
		SpawnOffset: -362,-1086,0
		ExitCell: -1,0
	Exit@fallback10:
		SpawnOffset: -1086,-362,0
		ExitCell: -1,1
	Exit@fallback11:
		SpawnOffset: -1086,-362,0
		ExitCell: -1,2
	Exit@fallback12:
		SpawnOffset: 362,1086,0
		ExitCell: 3,2

yarfnb:
	Inherits: ^RefineryB
	FreeActor:
		Actor: gmin
	ProvidesPrerequisite@yarfn2:
		Prerequisite: yarfn2
	ProvidesPrerequisite@psirefn:
		Prerequisite: psirefn
	-WithDockedOverlay:
	IsometricSelectable:
		DecorationHeight: 105

yarfnc:
	Inherits: ^RefineryC
	FreeActor:
		Actor: gmin
	ProvidesPrerequisite@yarfn2:
		Prerequisite: yarfn2
	ProvidesPrerequisite@psirefn:
		Prerequisite: psirefn
	IsometricSelectable:
		DecorationHeight: 105

yarfnd:
	Inherits: ^RefineryD
	FreeActor:
		Actor: gmin
	ProvidesPrerequisite@yarfn2:
		Prerequisite: yarfn2
	ProvidesPrerequisite@psirefn:
		Prerequisite: psirefn
	IsometricSelectable:
		DecorationHeight: 105

yaweab:
	Inherits: yaweap
	Inherits@shape: ^3x5Shape
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xxx xxx xxx xxx ===
		Dimensions: 3,5
	RallyPoint:
		Path: 1,6
	Exit@1:
		ExitCell: 1,4

yaweac:
	Inherits: yaweap
	-Buildable:
	-PlaceBuildingVariants:
	-WithExitOverlay@front:
	-WithExitOverlay@top:
	-WithIdleOverlay@bib:
	-WithIdleOverlay@lights:
	Building:
		Footprint: =xxxx =xxxx =xxxx
	RallyPoint:
		Path: -2,1
	Exit@1:
		ExitCell: 0,1

yawead:
	Inherits: yaweab
	-WithExitOverlay@front:
	-WithExitOverlay@top:
	-WithIdleOverlay@bib:
	-WithIdleOverlay@lights:
	Building:
		Footprint: === xxx xxx xxx xxx
	RallyPoint:
		Path: 1,-2
	Exit@1:
		ExitCell: 1,0

yadepb:
	Inherits: yadept
	Inherits@shape: ^3x4Shape
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xxx +++ +++ +++
		Dimensions: 3,4
	RallyPoint:
		Path: 1,4

yatecb:
	Inherits: yatech
	Inherits@shape: ^2x3Shape
	-Buildable:
	-PlaceBuildingVariants:
	Building:
		Footprint: xx xx xx
		Dimensions: 2,3

psirefn:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Ore Refinery
