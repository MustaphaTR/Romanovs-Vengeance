^ConstructionYard:
	Inherits: ^BaseBuilding
	Inherits@shape: ^4x4Shape
	Buildable:
		Queue: Building.Allies, Building.Soviets, Building.Yuri
		BuildPaletteOrder: 1000
		Prerequisites: ~disabled
		Description: Allows construction of base structures.
	Building:
		Footprint: xxxx xxxx xxxx xxxx
		Dimensions: 4,4
	Selectable:
		Bounds: 220, 180, 0, -35
	Health:
		HP: 1200
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 4c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 4c0
	Valued:
		Cost: 2000
	Production:
		Produces: Building, Support
		PauseOnCondition: chronodisable
	ProductionQueue@Building:
		Type: Building
		Group: Building
		LowPowerModifier: 200
		ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionQueue@Support:
		Type: Support
		Group: Support
		LowPowerModifier: 200
		ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	Tooltip:
		Name: Construction Yard
	BaseBuilding:
	Transforms:
		IntoActor: mcv
		Offset: 1,1
		Facing: 96
		DeployCursor: undeploy
		PauseOnCondition: chronodisable
		RequiresCondition: factundeploy && !build-incomplete
	GrantConditionOnPrerequisite@GLOBALFACTUNDEPLOY:
		Condition: factundeploy
		Prerequisites: global-factundeploy
	ProductionBar@Building:
		ProductionType: Building
	ProductionBar@Support:
		ProductionType: Support
	SpawnActorsOnSell@allies:
		ActorTypes: e1, e1, e1, engineer
		Factions: america, germany, england, france, korea
	SpawnActorsOnSell@soviets:
		ActorTypes: e2, e2, e2, e2, engineer
		Factions: cuba, libya, iraq, russia, vietnam
	BaseProvider:
		Range: 16c0
		PauseOnCondition: build-incomplete || chronodisable
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability

^WarFactory:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^5x3Shape
	Buildable:
		Queue: Building
		BuildPaletteOrder: 40
		Prerequisites: refinery, ~techlevel.1
		Description: Produces vehicles.
	Selectable:
		Bounds: 196, 178, -6, -48
	Valued:
		Cost: 2000
	Tooltip:
		Name: War Factory
	ProvidesPrerequisite@warfactory:
		Prerequisite: warfactory
	ProvidesPrerequisite@default:
	Building:
		Footprint: xxxx= xxxx= xxxx=
		Dimensions: 5,3
	Health:
		HP: 1000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 4c0
	RallyPoint:
		Offset: 6,1
		Palette: mouse
		IsPlayerPalette: false
	Exit@1:
		ExitCell: 4,1
	Production:
		Produces: Vehicle
		PauseOnCondition: chronodisable
	ProductionQueue:
		Type: Vehicle
		Group: Vehicle
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Vehicle
	WithExitOverlay@front:
		Sequence: build-front
		RequiresCondition: !build-incomplete && !chronodisable
	WithExitOverlay@top:
		Sequence: build-top
		RequiresCondition: !build-incomplete && !chronodisable
	WithIdleOverlay@bib:
		Sequence: bib
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	Power:
		Amount: -50
	InfiltrateForSupportPower:
		Types: SpyInfiltrate
		Proxy: warfactory.infiltrated
	Targetable:
		TargetTypes: Ground, C4, DetonateAttack, Structure, SpyInfiltrate

^Shipyard:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^4x4Shape
	Valued:
		Cost: 1000
	Tooltip:
		Name: Naval Yard
	Buildable:
		Queue: Building
		BuildPaletteOrder: 50
		Prerequisites: refinery, ~techlevel.1
		Description: Produces and repairs ships,\nsubmarines, transports, and other naval units.
	Targetable:
		TargetTypes: Ground, Water, C4
	ProvidesPrerequisite@default:
	Building:
		Footprint: xxxx xxxx xxxx xxxx
		Dimensions: 4,4
		TerrainTypes: Water
		RequiresBaseProvider: false
	-GivesBuildableArea:
	Health:
		HP: 1500
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 10c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 10c0
	# X -2 column
	Exit@n2_n2:
		ExitCell: -2,-2
	Exit@n2_n1:
		ExitCell: -2,-1
	Exit@n2_0:
		ExitCell: -2,0
	Exit@n2_1:
		ExitCell: -2,1
	Exit@n2_2:
		ExitCell: -2,2
	Exit@n2_3:
		ExitCell: -2,3
	Exit@n2_4:
		ExitCell: -2,4
	Exit@n2_5:
		ExitCell: -2,5
	# X -1 column
	Exit@n1_n2:
		ExitCell: -1,-2
	Exit@n1_5:
		ExitCell: -1,5
	# X 0 column
	Exit@0_n2:
		ExitCell: 0,-2
	Exit@0_5:
		ExitCell: 0,5
	# X 1 column
	Exit@1_n2:
		ExitCell: 1,-2
	Exit@1_5:
		ExitCell: 1,5
	# X 2 column
	Exit@2_n2:
		ExitCell: 2,-2
	Exit@2_5:
		ExitCell: 2,5
	# X 3 column
	Exit@3_n2:
		ExitCell: 3,-2
	Exit@3_5:
		ExitCell: 3,5
	# X 4 column
	Exit@4_n2:
		ExitCell: 4,-2
	Exit@4_5:
		SpawnOffset: 0,-113,0
		Facing: 160
		ExitCell: 4,5
	# X 5 column
	Exit@5_n2:
		ExitCell: 5,-2
	Exit@5_n1:
		ExitCell: 5,-1
	Exit@5_0:
		ExitCell: 5,0
	Exit@5_1:
		ExitCell: 5,1
	Exit@5_2:
		ExitCell: 5,2
	Exit@5_3:
		ExitCell: 5,3
	Exit@5_4:
		SpawnOffset: 0,-113,0
		Facing: 96
		ExitCell: 5,4
	Exit@5_5:
		ExitCell: 5,5
	Production:
		Produces: Ship
		PauseOnCondition: chronodisable
	ProductionQueue:
		Type: Ship
		Group: Ship
		LowPowerModifier: 200
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar:
		ProductionType: Ship
	RallyPoint:
		Offset: 5,1
		Palette: mouse
		IsPlayerPalette: false
	RepairsUnits:
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
	Power:
		Amount: -50
	WithIdleOverlay@crane:
		Sequence: idle-crane
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	WithIdleOverlay@waves:
		Sequence: idle-waves
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	WithRepairOverlay:
		Sequence: repair
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	WithProductionOverlay@lights:
		Sequence: production-lights
		RequiresCondition: !build-incomplete
	-SpawnActorsOnSell@allies:
	-SpawnActorsOnSell@soviets:
	RequiresBuildableArea:
		Adjacent: 13

^ServiceDepot:
	Inherits: ^BaseBuilding
	Inherits@MC: ^MindControllableBuilding
	Buildable:
		Queue: Building
		BuildPaletteOrder: 70
		Prerequisites: warfactory, ~techlevel.1
		Description: Repairs vehicles and removes Terror Drones for a price.
	Valued:
		Cost: 800
	Tooltip:
		Name: Service Depot
	ProvidesPrerequisite@default:
	ProvidesPrerequisite:
		Prerequisite: repairpad
	Health:
		HP: 750
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 5c0
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 5c0
	Reservable:
	RallyPoint:
		Palette: mouse
		IsPlayerPalette: false
	RepairsUnits:
		PauseOnCondition: chronodisable
		HpPerStep: 20
		Interval: 7
		StartRepairingNotification: Repairing
		FinishRepairingNotification: UnitRepaired
	WithIdleOverlay@bib:
		Sequence: bib
		PauseOnCondition: chronodisable
		RequiresCondition: !build-incomplete
	WithResupplyAnimation:
		Sequence: repair
		RequiresCondition: !build-incomplete && !chronodisable
	Power:
		Amount: -35

^PrimarySuperWeapon:
	Inherits: ^BaseBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^3x3Shape
	Buildable:
		Queue: Support
		BuildPaletteOrder: 110
	Valued:
		Cost: 2500
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3, 3
	Health:
		HP: 1000
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 5c0
	RevealsShroud@ToEnemy:
		Range: 2c0
		ValidStances: Neutral, Enemy
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 5c0
	Power:
		Amount: -200
	SupportPowerChargeBar:
	ProvidesPrerequisite@default:
	ProvidesPrerequisite@swlimit:
		RequiresPrerequisites: global-swlimit

^SecondarySuperWeapon:
	Inherits: ^BaseBuilding
	Inherits@LOWPOWER: ^DisableOnLowPowerOrPowerDown
	Inherits@EMPULSE: ^DisabledByEMP
	Inherits@MC: ^MindControllableBuilding
	Inherits@shape: ^3x3Shape
	Buildable:
		Queue: Support
		BuildPaletteOrder: 100
	Valued:
		Cost: 2000
	Building:
		Footprint: xxx xxx xxx
		Dimensions: 3, 3
	Health:
		HP: 1000
	Armor:
		Type: Concrete
	RevealsShroud:
		Range: 5c0
	RevealsShroud@ToEnemy:
		Range: 2c0
		ValidStances: Neutral, Enemy
	RevealsShroudToIntelligenceOwner:
		Types: SatelliteScan
		Range: 5c0
	Power:
		Amount: -200
	SupportPowerChargeBar:
	ProvidesPrerequisite@default:
	ProvidesPrerequisite@swlimit:
		RequiresPrerequisites: global-swlimit
